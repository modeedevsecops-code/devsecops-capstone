var Kt=function(e,t){return Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Kt(e,t)};function Gi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var x=function(){return x=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},x.apply(this,arguments)};function Bi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function P(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function k(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function _e(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Pe(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ne;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Ne||(Ne={}));var we;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(we||(we={}));var Tr="-",Tt="AMP",Wi="".concat(Tt,"_unsent"),Cn="$default_instance",Rn="https://api2.amplitude.com/2/httpapi",Hi="https://api.eu.amplitude.com/2/httpapi",Ki="https://api2.amplitude.com/batch",zi="https://api.eu.amplitude.com/batch",Yi="utm_campaign",Xi="utm_content",Qi="utm_id",Zi="utm_medium",Ji="utm_source",eo="utm_term",Sr="dclid",Ir="fbclid",Ar="gbraid",kr="gclid",Pr="ko_click_id",Cr="li_fat_id",Rr="msclkid",Or="rtd_cid",xr="ttclid",Lr="twclid",Dr="wbraid",ar={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},to=1e3,zt=function(e){if(Object.keys(e).length>to)return!1;for(var t in e){var r=e[t];if(!On(t,r))return!1}return!0},On=function(e,t){var r,n;if(typeof e!="string")return!1;if(Array.isArray(t)){var o=!0;try{for(var i=_e(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(Array.isArray(s))return!1;if(typeof s=="object")o=o&&zt(s);else if(!["number","string"].includes(typeof s))return!1;if(!o)return!1}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}else{if(t==null)return!1;if(typeof t=="object")return zt(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},yt=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return x({},this._properties)},e.prototype.set=function(t,r){return this._safeSet(C.SET,t,r),this},e.prototype.setOnce=function(t,r){return this._safeSet(C.SET_ONCE,t,r),this},e.prototype.append=function(t,r){return this._safeSet(C.APPEND,t,r),this},e.prototype.prepend=function(t,r){return this._safeSet(C.PREPEND,t,r),this},e.prototype.postInsert=function(t,r){return this._safeSet(C.POSTINSERT,t,r),this},e.prototype.preInsert=function(t,r){return this._safeSet(C.PREINSERT,t,r),this},e.prototype.remove=function(t,r){return this._safeSet(C.REMOVE,t,r),this},e.prototype.add=function(t,r){return this._safeSet(C.ADD,t,r),this},e.prototype.unset=function(t){return this._safeSet(C.UNSET,t,Tr),this},e.prototype.clearAll=function(){return this._properties={},this._properties[C.CLEAR_ALL]=Tr,this},e.prototype._safeSet=function(t,r,n){if(this._validate(t,r,n)){var o=this._properties[t];return o===void 0&&(o={},this._properties[t]=o),o[r]=n,this._propertySet.add(r),!0}return!1},e.prototype._validate=function(t,r,n){return this._properties[C.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:t===C.ADD?typeof n=="number":t!==C.UNSET&&t!==C.REMOVE?On(r,n):!0},e}(),C;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(C||(C={}));var ro=[C.CLEAR_ALL,C.UNSET,C.SET,C.SET_ONCE,C.ADD,C.APPEND,C.PREPEND,C.PREINSERT,C.POSTINSERT,C.REMOVE],no="Event tracked successfully",io="Unexpected error occurred",oo="Event rejected due to exceeded retry count",ao="Event skipped due to optOut config",uo="Event rejected due to missing API key",so="Invalid API key",co="Client not initialized",q;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(q||(q={}));var qe=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=q.Unknown),{event:e,code:t,message:r}},B=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},lo=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Te)},Ur=Pe([],K(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),Te=function(e){var t,r=B();if(!(!((t=r?.crypto)===null||t===void 0)&&t.getRandomValues))return lo(e);var n=r.crypto.getRandomValues(new Uint8Array(16));return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Pe([],K(n.entries()),!1).map(function(o){var i=K(o,2),a=i[0],s=i[1];return[4,6,8,10].includes(a)?"-".concat(Ur[s]):Ur[s]}).join("")},fo=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,r){var n,o;return P(this,void 0,void 0,function(){return k(this,function(i){switch(i.label){case 0:return this.plugins.some(function(a){return a.name===t.name})?(this.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Te(),this.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(n=t.type)!==null&&n!==void 0?n:"enrichment",[4,(o=t.setup)===null||o===void 0?void 0:o.call(t,r,this.client)]);case 1:return i.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,r){var n;return P(this,void 0,void 0,function(){var o,i;return k(this,function(a){switch(a.label){case 0:return o=this.plugins.findIndex(function(s){return s.name===t}),o===-1?(r.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(i=this.plugins[o],this.plugins.splice(o,1),[4,(n=i.teardown)===null||n===void 0?void 0:n.call(i)]);case 1:return a.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var r=this.plugins;r.map(function(n){var o;return(o=n.teardown)===null||o===void 0?void 0:o.call(n)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var r=this;return new Promise(function(n){r.queue.push([t,n]),r.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},t))},e.prototype.apply=function(t){return P(this,void 0,void 0,function(){var r,n,o,i,a,s,c,h,v,u,l,f,d,h,v,y,m,p,g,b,_,T;return k(this,function(I){switch(I.label){case 0:if(!t)return[2];r=K(t,1),n=r[0],o=K(t,2),i=o[1],this.loggerProvider.log("Timeline.apply: Initial event",n),a=this.plugins.filter(function(E){return E.type==="before"}),I.label=1;case 1:I.trys.push([1,6,7,8]),s=_e(a),c=s.next(),I.label=2;case 2:return c.done?[3,5]:(h=c.value,h.execute?[4,h.execute(x({},n))]:[3,4]);case 3:if(v=I.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(n))),i({event:n,code:0,message:""}),[2];n=v,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(n))),I.label=4;case 4:return c=s.next(),[3,2];case 5:return[3,8];case 6:return u=I.sent(),g={error:u},[3,8];case 7:try{c&&!c.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}return[7];case 8:l=this.plugins.filter(function(E){return E.type==="enrichment"||E.type===void 0}),I.label=9;case 9:I.trys.push([9,14,15,16]),f=_e(l),d=f.next(),I.label=10;case 10:return d.done?[3,13]:(h=d.value,h.execute?[4,h.execute(x({},n))]:[3,12]);case 11:if(v=I.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(n))),i({event:n,code:0,message:""}),[2];n=v,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(n))),I.label=12;case 12:return d=f.next(),[3,10];case 13:return[3,16];case 14:return y=I.sent(),_={error:y},[3,16];case 15:try{d&&!d.done&&(T=f.return)&&T.call(f)}finally{if(_)throw _.error}return[7];case 16:return m=this.plugins.filter(function(E){return E.type==="destination"}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(n))),p=m.map(function(E){var S=x({},n);return E.execute(S).catch(function(A){return qe(S,0,String(A))})}),Promise.all(p).then(function(E){var S=K(E,1),A=S[0],M=A||qe(n,100,"Event not tracked, no destination plugins on the instance");i(M)}),[2]}})})},e.prototype.flush=function(){return P(this,void 0,void 0,function(){var t,r,n,o=this;return k(this,function(i){switch(i.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(a){return o.apply(a)}))];case 1:return i.sent(),r=this.plugins.filter(function(a){return a.type==="destination"}),n=r.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(n)];case 2:return i.sent(),[2]}})})},e.prototype.onIdentityChanged=function(t){this.plugins.forEach(function(r){var n;(n=r.onIdentityChanged)===null||n===void 0||n.call(r,t)})},e.prototype.onSessionIdChanged=function(t){this.plugins.forEach(function(r){var n;(n=r.onSessionIdChanged)===null||n===void 0||n.call(r,t)})},e.prototype.onOptOutChanged=function(t){this.plugins.forEach(function(r){var n;(n=r.onOptOutChanged)===null||n===void 0||n.call(r,t)})},e}(),vo=function(e,t,r){var n=typeof e=="string"?{event_type:e}:e;return x(x(x({},n),r),t&&{event_properties:t})},xn=function(e,t){var r=x(x({},t),{event_type:we.IDENTIFY,user_properties:e.getUserProperties()});return r},ho=function(e,t,r,n){var o,i=x(x({},n),{event_type:we.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(o={},o[e]=t,o)});return i},po=function(e,t,r){var n,o=new yt;o.set(e,t);var i=x(x({},r),{event_type:we.IDENTIFY,user_properties:o.getUserProperties(),groups:(n={},n[e]=t,n)});return i},go=function(e,t){return x(x({},t),{event_type:we.REVENUE,event_properties:e.getEventProperties()})},Q=function(e){return{promise:e||Promise.resolve()}},yo=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new fo(this),this.name=t}return e.prototype._init=function(t){return P(this,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return this.config=t,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return P(this,void 0,void 0,function(){var r,n,o,i,a,s,c,u;return k(this,function(l){switch(l.label){case 0:r=this[t],this[t]=[],l.label=1;case 1:l.trys.push([1,8,9,10]),n=_e(r),o=n.next(),l.label=2;case 2:return o.done?[3,7]:(i=o.value,a=i(),a&&"promise"in a?[4,a.promise]:[3,4]);case 3:return l.sent(),[3,6];case 4:return[4,a];case 5:l.sent(),l.label=6;case 6:return o=n.next(),[3,2];case 7:return[3,10];case 8:return s=l.sent(),c={error:s},[3,10];case 9:try{o&&!o.done&&(u=n.return)&&u.call(n)}finally{if(c)throw c.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:l.sent(),l.label=12;case 12:return[2]}})})},e.prototype.track=function(t,r,n){var o=vo(t,r,n);return Q(this.dispatch(o))},e.prototype.identify=function(t,r){var n=xn(t,r);return Q(this.dispatch(n))},e.prototype.groupIdentify=function(t,r,n,o){var i=ho(t,r,n,o);return Q(this.dispatch(i))},e.prototype.setGroup=function(t,r,n){var o=po(t,r,n);return Q(this.dispatch(o))},e.prototype.revenue=function(t,r){var n=go(t,r);return Q(this.dispatch(n))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),Q())},e.prototype._addPlugin=function(t){return Q(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),Q())},e.prototype._removePlugin=function(t){return Q(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,r){if(!this.isReady)return r(qe(t,0,co));this.process(t).then(r)},e.prototype.dispatch=function(t){return P(this,void 0,void 0,function(){var r=this;return k(this,function(n){return this.isReady?[2,this.process(t)]:[2,new Promise(function(o){r.dispatchQ.push(r.dispatchWithCallback.bind(r,t,o))})]})})},e.prototype.getOperationAppliedUserProperties=function(t){var r={};if(t===void 0)return r;var n={};return Object.keys(t).forEach(function(o){Object.values(Ne).includes(o)||(n[o]=t[o])}),ro.forEach(function(o){if(Object.keys(t).includes(o)){var i=t[o];switch(o){case Ne.CLEAR_ALL:Object.keys(r).forEach(function(a){delete r[a]});break;case Ne.UNSET:Object.keys(i).forEach(function(a){delete r[a]});break;case Ne.SET:Object.assign(r,i);break}}}),Object.assign(r,n),r},e.prototype.process=function(t){return P(this,void 0,void 0,function(){var r,i,n,o,i;return k(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.config.optOut?[2,qe(t,0,ao)]:(t.event_type===we.IDENTIFY&&(r=this.getOperationAppliedUserProperties(t.user_properties),this.timeline.onIdentityChanged({userProperties:r})),[4,this.timeline.push(t)]);case 1:return i=a.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return n=a.sent(),o=String(n),this.config.loggerProvider.error(o),i=qe(t,0,o),[2,i];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut!==t&&(this.timeline.onOptOutChanged(t),this.config.optOut=!!t)},e.prototype.flush=function(){return Q(this.timeline.flush())},e.prototype.plugin=function(t){var r=this.timeline.plugins.find(function(n){return n.name===t});if(r===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(t));return}return r},e.prototype.plugins=function(t){return this.timeline.plugins.filter(function(r){return r instanceof t})},e}(),mo=function(){function e(t,r){this.key="AMP_remote_config_".concat(t.substring(0,10)),this.logger=r}return e.prototype.fetchConfig=function(){var t=null,r={remoteConfig:null,lastFetch:new Date};try{t=localStorage.getItem(this.key)}catch(o){return this.logger.debug("Remote config localstorage failed to access: ",o),Promise.resolve(r)}if(t===null)return this.logger.debug("Remote config localstorage gets null because the key does not exist"),Promise.resolve(r);try{var n=JSON.parse(t);return this.logger.debug("Remote config localstorage parsed successfully: ".concat(JSON.stringify(n))),Promise.resolve({remoteConfig:n.remoteConfig,lastFetch:new Date(n.lastFetch)})}catch(o){return this.logger.debug("Remote config localstorage failed to parse: ",o),localStorage.removeItem(this.key),Promise.resolve(r)}},e.prototype.setConfig=function(t){try{return localStorage.setItem(this.key,JSON.stringify(t)),this.logger.debug("Remote config localstorage set successfully."),Promise.resolve(!0)}catch(r){this.logger.debug("Remote config localstorage failed to set: ",r)}return Promise.resolve(!1)},e}(),bo="https://sr-client-cfg.amplitude.com/config",Eo="https://sr-client-cfg.eu.amplitude.com/config",_o=3,wo=1e3,To=function(){function e(t,r,n){n===void 0&&(n="US"),this.callbackInfos=[],this.apiKey=t,this.serverUrl=n==="US"?bo:Eo,this.logger=r,this.storage=new mo(t,r)}return e.prototype.subscribe=function(t,r,n){var o=Te(),i={id:o,key:t,deliveryMode:r,callback:n};return this.callbackInfos.push(i),r==="all"?this.subscribeAll(i):this.subscribeWaitForRemote(i,r.timeout),o},e.prototype.unsubscribe=function(t){var r=this.callbackInfos.findIndex(function(n){return n.id===t});return r===-1?(this.logger.debug("Remote config client unsubscribe failed because callback with id ".concat(t," doesn't exist.")),!1):(this.callbackInfos.splice(r,1),this.logger.debug("Remote config client unsubscribe succeeded removing callback with id ".concat(t,".")),!0)},e.prototype.updateConfigs=function(){return P(this,void 0,void 0,function(){var t,r=this;return k(this,function(n){switch(n.label){case 0:return[4,this.fetch()];case 1:return t=n.sent(),this.storage.setConfig(t),this.callbackInfos.forEach(function(o){r.sendCallback(o,t,"remote")}),[2]}})})},e.prototype.subscribeAll=function(t){return P(this,void 0,void 0,function(){var r,n,o,i=this;return k(this,function(a){switch(a.label){case 0:return r=this.fetch().then(function(s){i.logger.debug("Remote config client subscription all mode fetched from remote: ".concat(JSON.stringify(s))),i.sendCallback(t,s,"remote"),i.storage.setConfig(s)}),n=this.storage.fetchConfig().then(function(s){return s}),[4,Promise.race([r,n])];case 1:return o=a.sent(),o!==void 0&&(this.logger.debug("Remote config client subscription all mode fetched from cache: ".concat(JSON.stringify(o))),this.sendCallback(t,o,"cache")),[4,r];case 2:return a.sent(),[2]}})})},e.prototype.subscribeWaitForRemote=function(t,r){return P(this,void 0,void 0,function(){var n,o,o;return k(this,function(i){switch(i.label){case 0:n=new Promise(function(a,s){setTimeout(function(){s("Timeout exceeded")},r)}),i.label=1;case 1:return i.trys.push([1,3,,5]),[4,Promise.race([this.fetch(),n])];case 2:return o=i.sent(),this.logger.debug("Remote config client subscription wait for remote mode returns from remote."),this.sendCallback(t,o,"remote"),this.storage.setConfig(o),[3,5];case 3:return i.sent(),this.logger.debug("Remote config client subscription wait for remote mode exceeded timeout. Try to fetch from cache."),[4,this.storage.fetchConfig()];case 4:return o=i.sent(),o.remoteConfig!==null?(this.logger.debug("Remote config client subscription wait for remote mode returns a cached copy."),this.sendCallback(t,o,"cache")):(this.logger.debug("Remote config client subscription wait for remote mode failed to fetch cache."),this.sendCallback(t,o,"remote")),[3,5];case 5:return[2]}})})},e.prototype.sendCallback=function(t,r,n){t.lastCallback=new Date;var o;t.key?o=t.key.split(".").reduce(function(i,a){return i===null?i:a in i?i[a]:null},r.remoteConfig):o=r.remoteConfig,t.callback(o,n,r.lastFetch)},e.prototype.fetch=function(t,r){return t===void 0&&(t=_o),r===void 0&&(r=wo),P(this,void 0,void 0,function(){var n,o,i,a,s,c,u=this;return k(this,function(l){switch(l.label){case 0:n=r/t,o={remoteConfig:null,lastFetch:new Date},i=function(f){var d,h,v,y,m,p;return k(this,function(g){switch(g.label){case 0:d=new AbortController,h=setTimeout(function(){return d.abort()},r),g.label=1;case 1:return g.trys.push([1,7,8,9]),[4,fetch(a.getUrlParams(),{method:"GET",headers:{Accept:"*/*"},signal:d.signal})];case 2:return v=g.sent(),v.ok?[3,4]:[4,v.text()];case 3:return y=g.sent(),a.logger.debug("Remote config client fetch with retry time ".concat(t," failed with ").concat(v.status,": ").concat(y)),[3,6];case 4:return[4,v.json()];case 5:return m=g.sent(),[2,{value:{remoteConfig:m,lastFetch:new Date}}];case 6:return[3,9];case 7:return p=g.sent(),p instanceof Error&&p.name==="AbortError"?a.logger.debug("Remote config client fetch with retry time ".concat(t," timed out after ").concat(r,"ms")):a.logger.debug("Remote config client fetch with retry time ".concat(t," is rejected because: "),p),[3,9];case 8:return clearTimeout(h),[7];case 9:return f<t-1?[4,new Promise(function(b){return setTimeout(b,u.getJitterDelay(n))})]:[3,11];case 10:g.sent(),g.label=11;case 11:return[2]}})},a=this,s=0,l.label=1;case 1:return s<t?[5,i(s)]:[3,4];case 2:if(c=l.sent(),typeof c=="object")return[2,c.value];l.label=3;case 3:return s++,[3,1];case 4:return[2,o]}})})},e.prototype.getJitterDelay=function(t){return Math.floor(Math.random()*t)},e.prototype.getUrlParams=function(){var t=encodeURIComponent(this.apiKey),r=new URLSearchParams;return r.append("config_group",e.CONFIG_GROUP),"".concat(this.serverUrl,"/").concat(t,"?").concat(r.toString())},e.CONFIG_GROUP="browser",e}(),ee;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(ee||(ee={}));var ot="Amplitude Logger ",Ln=function(){function e(){this.logLevel=ee.None}return e.prototype.disable=function(){this.logLevel=ee.None},e.prototype.enable=function(t){t===void 0&&(t=ee.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ee.Verbose||console.log("".concat(ot,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ee.Warn||console.warn("".concat(ot,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ee.Error||console.error("".concat(ot,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ee.Debug||console.log("".concat(ot,"[Debug]: ").concat(t.join(" ")))},e}(),So=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setCurrency=function(t){return this.currency=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setReceipt=function(t){return this.receipt=t,this},e.prototype.setReceiptSig=function(t){return this.receiptSig=t,this},e.prototype.setEventProperties=function(t){return zt(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?x({},this.properties):{};return t[fe.REVENUE_PRODUCT_ID]=this.productId,t[fe.REVENUE_QUANTITY]=this.quantity,t[fe.REVENUE_PRICE]=this.price,t[fe.REVENUE_TYPE]=this.revenueType,t[fe.REVENUE_CURRENCY]=this.currency,t[fe.REVENUE]=this.revenue,t[fe.RECEIPT]=this.receipt,t[fe.RECEIPT_SIG]=this.receiptSig,t},e}(),fe;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue",e.RECEIPT="$receipt",e.RECEIPT_SIG="$receiptSig"})(fe||(fe={}));var Io=function(e,t){var r=Math.max(t,1);return e.reduce(function(n,o,i){var a=Math.floor(i/r);return n[a]||(n[a]=[]),n[a].push(o),n},[])},lt=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:Cn,logLevel:ee.Warn,loggerProvider:new Ln,offline:!1,optOut:!1,serverUrl:Rn,serverZone:"US",useBatch:!1}},Ao=function(){function e(t){var r,n,o,i;this._optOut=!1;var a=lt();this.apiKey=t.apiKey,this.flushIntervalMillis=(r=t.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||a.flushQueueSize,this.instanceName=t.instanceName||a.instanceName,this.loggerProvider=t.loggerProvider||a.loggerProvider,this.logLevel=(n=t.logLevel)!==null&&n!==void 0?n:a.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:a.offline,this.optOut=(o=t.optOut)!==null&&o!==void 0?o:a.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||a.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(i=t.useBatch)!==null&&i!==void 0?i:a.useBatch,this.loggerProvider.enable(this.logLevel);var s=Dn(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),ko=function(e,t){return e==="EU"?t?zi:Hi:t?Ki:Rn},Dn=function(e,t,r){if(e===void 0&&(e=""),t===void 0&&(t=lt().serverZone),r===void 0&&(r=lt().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:lt().serverZone;return{serverZone:n,serverUrl:ko(n,r)}},Po=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,r){this.sdk.metrics.histogram[t]=r},e}();function Co(e){return e instanceof Error?e.message:String(e)}function at(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var Ro=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return e.prototype.setup=function(t){var r;return P(this,void 0,void 0,function(){var n,o=this;return k(this,function(i){switch(i.label){case 0:return this.config=t,this.storageKey="".concat(Wi,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=i.sent(),n&&n.length>0&&Promise.all(n.map(function(a){return o.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var r=this;return t.insert_id||(t.insert_id=Te()),new Promise(function(n){var o={event:t,attempts:0,callback:function(i){return n(i)},timeout:0};r.queue.push(o),r.schedule(r.config.flushIntervalMillis),r.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(t){var r=this;return t.filter(function(n){return n.attempts+=1,n.attempts<r.config.flushMaxRetries?!0:(r.fulfillRequest([n],500,oo),!1)})},e.prototype.scheduleEvents=function(t){var r=this;t.forEach(function(n){r.schedule(n.timeout===0?r.config.flushIntervalMillis:n.timeout)})},e.prototype.schedule=function(t){var r=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&t>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=t,this.scheduleId=setTimeout(function(){r.queue=r.queue.map(function(n){return n.timeout=0,n}),r.flush(!0)},t);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(t){return t===void 0&&(t=!1),P(this,void 0,void 0,function(){var r,n,o,i=this;return k(this,function(a){switch(a.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),r=[],n=[],this.queue.forEach(function(s){return s.timeout===0?r.push(s):n.push(s)}),o=Io(r,this.config.flushQueueSize),[4,o.reduce(function(s,c){return P(i,void 0,void 0,function(){return k(this,function(u){switch(u.label){case 0:return[4,s];case 1:return u.sent(),[4,this.send(c,t)];case 2:return[2,u.sent()]}})})},Promise.resolve())]);case 1:return a.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(t,r){return r===void 0&&(r=!0),P(this,void 0,void 0,function(){var n,o,i,a,s;return k(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,uo)];n={api_key:this.config.apiKey,events:t.map(function(u){var l=u.event;l.extra;var f=Bi(l,["extra"]);return f}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new Po,c.label=1;case 1:return c.trys.push([1,3,,4]),o=Dn(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(o,n)];case 2:return i=c.sent(),i===null?(this.fulfillRequest(t,0,io),[2]):r?(this.handleResponse(i,t),[3,4]):("body"in i?this.fulfillRequest(t,i.statusCode,"".concat(i.status,": ").concat(at(i))):this.fulfillRequest(t,i.statusCode,i.status),[2]);case 3:return a=c.sent(),s=Co(a),this.config.loggerProvider.error(s),this.handleResponse({status:q.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,r){var n=t.status;switch(n){case q.Success:{this.handleSuccessResponse(t,r);break}case q.Invalid:{this.handleInvalidResponse(t,r);break}case q.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,r);break}case q.RateLimit:{this.handleRateLimitResponse(t,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},e.prototype.handleSuccessResponse=function(t,r){this.fulfillRequest(r,t.statusCode,no)},e.prototype.handleInvalidResponse=function(t,r){var n=this;if(t.body.missingField||t.body.error.startsWith(so)){this.fulfillRequest(r,t.statusCode,t.body.error);return}var o=Pe(Pe(Pe(Pe([],K(Object.values(t.body.eventsWithInvalidFields)),!1),K(Object.values(t.body.eventsWithMissingFields)),!1),K(Object.values(t.body.eventsWithInvalidIdLengths)),!1),K(t.body.silencedEvents),!1).flat(),i=new Set(o),a=r.filter(function(c,u){if(i.has(u)){n.fulfillRequest([c],t.statusCode,t.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn(at(t));var s=this.removeEventsExceedFlushMaxRetries(a);this.scheduleEvents(s)},e.prototype.handlePayloadTooLargeResponse=function(t,r){if(r.length===1){this.fulfillRequest(r,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(at(t)),this.config.flushQueueSize/=2;var n=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(n)},e.prototype.handleRateLimitResponse=function(t,r){var n=this,o=Object.keys(t.body.exceededDailyQuotaUsers),i=Object.keys(t.body.exceededDailyQuotaDevices),a=t.body.throttledEvents,s=new Set(o),c=new Set(i),u=new Set(a),l=r.filter(function(d,h){if(d.event.user_id&&s.has(d.event.user_id)||d.event.device_id&&c.has(d.event.device_id)){n.fulfillRequest([d],t.statusCode,t.body.error);return}return u.has(h)&&(d.timeout=n.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(at(t));var f=this.removeEventsExceedFlushMaxRetries(l);this.scheduleEvents(f)},e.prototype.handleOtherResponse=function(t){var r=this,n=t.map(function(i){return i.timeout=i.attempts*r.retryTimeout,i}),o=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(o)},e.prototype.fulfillRequest=function(t,r,n){this.removeEvents(t),t.forEach(function(o){return o.callback(qe(o.event,r,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(r){return!t.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},e}(),Oo=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:xo(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),xo=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Lo=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(r){t(r)}),this.queue=[])},e}(),me=function(){return me=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},me.apply(this,arguments)};function ft(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}var dt=function(e,t){var r,n,o=["string","number","boolean","undefined"],i=typeof e,a=typeof t;if(i!==a)return!1;try{for(var s=ft(o),c=s.next();!c.done;c=s.next()){var u=c.value;if(u===i)return e===t}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var l=Array.isArray(e),f=Array.isArray(t);if(l!==f)return!1;if(l&&f){for(var d=0;d<e.length;d++)if(!dt(e[d],t[d]))return!1}else{var h=Object.keys(e).sort(),v=Object.keys(t).sort();if(!dt(h,v))return!1;var y=!0;return Object.keys(e).forEach(function(m){dt(e[m],t[m])||(y=!1)}),y}return!0},Do="$set",Uo="$unset",No="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var Mo=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,r=me({},this.identity.userProperties),n=me(me({},this.identity),{userProperties:r});return{setUserId:function(o){return n.userId=o,this},setDeviceId:function(o){return n.deviceId=o,this},setUserProperties:function(o){return n.userProperties=o,this},setOptOut:function(o){return n.optOut=o,this},updateUserProperties:function(o){var i,a,s,c,u,l,f=n.userProperties||{};try{for(var d=ft(Object.entries(o)),h=d.next();!h.done;h=d.next()){var v=Nr(h.value,2),y=v[0],m=v[1];switch(y){case Do:try{for(var p=(s=void 0,ft(Object.entries(m))),g=p.next();!g.done;g=p.next()){var b=Nr(g.value,2),_=b[0],T=b[1];f[_]=T}}catch(S){s={error:S}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}break;case Uo:try{for(var I=(u=void 0,ft(Object.keys(m))),E=I.next();!E.done;E=I.next()){var _=E.value;delete f[_]}}catch(S){u={error:S}}finally{try{E&&!E.done&&(l=I.return)&&l.call(I)}finally{if(u)throw u.error}}break;case No:f={};break}}}catch(S){i={error:S}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return n.userProperties=f,this},commit:function(){return t.setIdentity(n),this}}},e.prototype.getIdentity=function(){return me({},this.identity)},e.prototype.setIdentity=function(t){var r=me({},this.identity);this.identity=me({},t),dt(r,this.identity)||this.listeners.forEach(function(n){n(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),He=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Fo=function(){function e(){this.identityStore=new Mo,this.eventBridge=new Lo,this.applicationContextProvider=new Oo}return e.getInstance=function(t){return He.analyticsConnectorInstances||(He.analyticsConnectorInstances={}),He.analyticsConnectorInstances[t]||(He.analyticsConnectorInstances[t]=new e),He.analyticsConnectorInstances[t]},e}(),Ye=function(e){return e===void 0&&(e=Cn),Fo.getInstance(e)},qo=function(e,t){Ye(t).identityStore.editIdentity().setUserId(e).commit()},jo=function(e,t){Ye(t).identityStore.editIdentity().setDeviceId(e).commit()},$o=function(){function e(){this.name="identity",this.type="before",this.identityStore=Ye().identityStore}return e.prototype.execute=function(t){return P(this,void 0,void 0,function(){var r;return k(this,function(n){return r=t.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,t]})})},e.prototype.setup=function(t){return P(this,void 0,void 0,function(){return k(this,function(r){return t.instanceName&&(this.identityStore=Ye(t.instanceName).identityStore),[2]})})},e}(),Un=function(e,t){t===void 0&&(t=Date.now());var r=Date.now(),n=r-t;return n>e},Nn=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[Tt,t,e.substring(0,r)].filter(Boolean).join("_")},Vo=function(e){return"".concat(Tt.toLowerCase(),"_").concat(e.substring(0,6))},Go=function(){var e,t,r,n;if(typeof navigator>"u")return"";var o=navigator.userLanguage;return(n=(r=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&r!==void 0?r:o)!==null&&n!==void 0?n:""},mt=function(){var e,t=B();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(o,i){var a=i.split("=",2),s=Mr(a[0]),c=Mr(a[1]);return c&&(o[s]=c),o},{});return n},Mr=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},Bo=function(e){var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(r){return r.trim()})},D=function(e){return function(){var t=x({},e.config),r=t.loggerProvider,n=t.logLevel;return{logger:r,logLevel:n}}},Wo=function(e,t){var r,n;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var o=_e(t.split(".")),i=o.next();!i.done;i=o.next()){var a=i.value;if(a in e)e=e[a];else return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return e},U=function(e,t){return function(){var r,n,o={};try{for(var i=_e(t),a=i.next();!a.done;a=i.next()){var s=a.value;o[s]=Wo(e,s)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}},N=function(e,t,r,n,o){return o===void 0&&(o=null),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=r(),c=s.logger,u=s.logLevel;if(u&&u<ee.Debug||!u||!c)return e.apply(o,i);var l={type:"invoke public method",name:t,args:i,stacktrace:Bo(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var f=e.apply(o,i);return f&&f.promise?f.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))),f}},Ho=function(e,t){return!t||!t.length?!0:t.some(function(r){return typeof r=="string"?e===r:e.match(r)})},ur=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return P(this,void 0,void 0,function(){return k(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return P(this,void 0,void 0,function(){return k(this,function(r){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return P(this,void 0,void 0,function(){var r;return k(this,function(n){switch(n.label){case 0:return[4,this.get(t)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},e.prototype.set=function(t,r){return P(this,void 0,void 0,function(){return k(this,function(n){return this.memoryStorage.set(t,r),[2]})})},e.prototype.remove=function(t){return P(this,void 0,void 0,function(){return k(this,function(r){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return P(this,void 0,void 0,function(){return k(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),Yt=function(){function e(t){this.options=x({},t)}return e.prototype.isEnabled=function(){return P(this,void 0,void 0,function(){var t,r,n;return k(this,function(o){switch(o.label){case 0:if(!B())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return o.sent(),[4,t.get(r)];case 3:return n=o.sent(),[2,n===e.testValue];case 4:return o.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var r;return P(this,void 0,void 0,function(){var n,o;return k(this,function(i){switch(i.label){case 0:return[4,this.getRaw(t)];case 1:if(n=i.sent(),!n)return[2,void 0];try{return o=(r=Ko(n))!==null&&r!==void 0?r:zo(n),o===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(o)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var r,n;return P(this,void 0,void 0,function(){var o,i,a;return k(this,function(s){return o=B(),i=(n=(r=o?.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],a=i.find(function(c){return c.indexOf(t+"=")===0}),a?[2,a.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,r){var n;return P(this,void 0,void 0,function(){var o,i,a,s,c,u,l;return k(this,function(f){try{o=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,i=r!==null?o:-1,a=void 0,i&&(s=new Date,s.setTime(s.getTime()+i*24*60*60*1e3),a=s),c="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),a&&(c+="; expires=".concat(a.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),u=B(),u&&(u.document.cookie=c)}catch(d){l=d instanceof Error?d.message:String(d),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(l))}return[2]})})},e.prototype.remove=function(t){return P(this,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return[4,this.set(t,null)];case 1:return r.sent(),[2]}})})},e.prototype.reset=function(){return P(this,void 0,void 0,function(){return k(this,function(t){return[2]})})},e}(),Ko=function(e){try{return decodeURIComponent(atob(e))}catch{return}},zo=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},Yo=function(e,t,r){return r===void 0&&(r=10),[Tt,t,e.substring(0,r)].filter(Boolean).join("_")},Mn=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return P(this,void 0,void 0,function(){var t,r,n,o;return k(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return i.sent(),[4,r.get(n)];case 3:return o=i.sent(),[2,o===t];case 4:return i.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return P(this,void 0,void 0,function(){var r;return k(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return r=n.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var r;return P(this,void 0,void 0,function(){return k(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(t))||void 0]})})},e.prototype.set=function(t,r){var n;return P(this,void 0,void 0,function(){return k(this,function(o){try{(n=this.storage)===null||n===void 0||n.setItem(t,JSON.stringify(r))}catch{}return[2]})})},e.prototype.remove=function(t){var r;return P(this,void 0,void 0,function(){return k(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return P(this,void 0,void 0,function(){return k(this,function(r){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),sr=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,o,i,a,s,c,u,l,f,d,h,v,y,m,p,g,b,_,T,I,E;if(typeof t!="object")return null;var S=t.code||0,A=this.buildStatus(S);switch(A){case q.Success:return{status:A,statusCode:S,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(o=t.server_upload_time)!==null&&o!==void 0?o:0}};case q.Invalid:return{status:A,statusCode:S,body:{error:(i=t.error)!==null&&i!==void 0?i:"",missingField:(a=t.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(s=t.events_with_invalid_fields)!==null&&s!==void 0?s:{},eventsWithMissingFields:(c=t.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(u=t.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(f=t.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=t.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=t.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(v=t.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(y=t.throttled_events)!==null&&y!==void 0?y:[]}};case q.PayloadTooLarge:return{status:A,statusCode:S,body:{error:(m=t.error)!==null&&m!==void 0?m:""}};case q.RateLimit:return{status:A,statusCode:S,body:{error:(p=t.error)!==null&&p!==void 0?p:"",epsThreshold:(g=t.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=t.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(_=t.throttled_users)!==null&&_!==void 0?_:{},exceededDailyQuotaDevices:(T=t.exceeded_daily_quota_devices)!==null&&T!==void 0?T:{},exceededDailyQuotaUsers:(I=t.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(E=t.throttled_events)!==null&&E!==void 0?E:[]}};case q.Timeout:default:return{status:A,statusCode:S}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?q.Success:t===429?q.RateLimit:t===413?q.PayloadTooLarge:t===408?q.Timeout:t>=400&&t<500?q.Invalid:t>=500?q.Failed:q.Unknown},e}(),Xo=function(e){Gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return P(this,void 0,void 0,function(){var o,i,a;return k(this,function(s){switch(s.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return o={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,o)];case 1:return i=s.sent(),[4,i.text()];case 2:a=s.sent();try{return[2,this.buildResponse(JSON.parse(a))]}catch{return[2,this.buildResponse({code:i.status})]}return[2]}})})},t}(sr),Qo=null,Zo=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Fn="data-amp-track-",Jo=["div","span","h1","h2","h3","h4","h5","h6"],ea=["a","button",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="option"]','[role="tab"]','[role="treeitem"]','[contenteditable="true" i]'],ta=Pe(['input[type="button"]','input[type="submit"]','input[type="reset"]','input[type="image"]','input[type="file"]'],K(ea),!1),ra=["*"],na=1e3,ia=4,oa=500,qn=100,aa=function(){function e(t){this.request=t}return Object.defineProperty(e.prototype,"headers",{get:function(){if(this._headers)return this._headers;var t=this.request.headers;if(Array.isArray(t)){var r=t;this._headers=r.reduce(function(i,a){var s=K(a,2),c=s[0],u=s[1];return i[c]=u,i},{})}else if(t instanceof Headers){var n=t,o={};n.forEach(function(i,a){o[a]=i}),this._headers=o}else typeof t=="object"&&(this._headers=t);return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){if(typeof this._bodySize=="number")return this._bodySize;var t=B();if(t?.TextEncoder){var r=this.request.body;return this._bodySize=jn(r,qn),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return typeof this.request.body=="string"?this.request.body:null},enumerable:!1,configurable:!0}),e}(),ua=function(){function e(t,r){this.bodyRaw=t,this.requestHeaders=r}return Object.defineProperty(e.prototype,"headers",{get:function(){return this.requestHeaders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){return jn(this.bodyRaw,qn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return typeof this.bodyRaw=="string"?this.bodyRaw:null},enumerable:!1,configurable:!0}),e}();function jn(e,t){var r,n,o,i=B(),a=i?.TextEncoder;if(a){var s;if(typeof e=="string")s=e,o=new a().encode(s).length;else if(e instanceof Blob)s=e,o=s.size;else if(e instanceof URLSearchParams)s=e,o=new a().encode(s.toString()).length;else if(ArrayBuffer.isView(e))s=e,o=s.byteLength;else if(e instanceof ArrayBuffer)s=e,o=s.byteLength;else if(e instanceof FormData){var c=e,u=0,l=0;try{for(var f=_e(c.entries()),d=f.next();!d.done;d=f.next()){var h=K(d.value,2),v=h[0],y=h[1];if(u+=v.length,typeof y=="string")u+=new a().encode(y).length;else if(y instanceof Blob)u+=y.size;else return;if(++l>=t)return}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}o=u}else if(e instanceof ReadableStream){s=e;return}return o}}var sa=function(){function e(t){this.response=t}return Object.defineProperty(e.prototype,"headers",{get:function(){var t;if(this._headers)return this._headers;if(this.response.headers instanceof Headers){var r=this.response.headers,n={};return(t=r?.forEach)===null||t===void 0||t.call(r,function(o,i){n[i]=o}),this._headers=n,n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){var t,r;if(this._bodySize!==void 0)return this._bodySize;var n=(r=(t=this.response.headers)===null||t===void 0?void 0:t.get)===null||r===void 0?void 0:r.call(t,"content-length"),o=n?parseInt(n,10):void 0;return this._bodySize=o,o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),e.prototype.text=function(){return P(this,void 0,void 0,function(){var t,r,n,o;return k(this,function(i){switch(i.label){case 0:t=this.response.clone(),i.label=1;case 1:return i.trys.push([1,3,,4]),r=t.text(),n=new Promise(function(a){return setTimeout(function(){return a(null)},oa)}),[4,Promise.race([r,n])];case 2:return o=i.sent(),[2,o];case 3:return i.sent(),[2,null];case 4:return[2]}})})},e}(),ca=function(){function e(t,r,n,o){this.statusCode=t,this.headersString=r,this.size=n,this.responseText=o}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),e.prototype.text=function(){return P(this,void 0,void 0,function(){return k(this,function(t){return[2,this.responseText]})})},Object.defineProperty(e.prototype,"headers",{get:function(){var t,r;if(this.headersString){var n={},o=this.headersString.split(`\r
`);try{for(var i=_e(o),a=i.next();!a.done;a=i.next()){var s=a.value,c=K(s.split(": "),2),u=c[0],l=c[1];u&&l&&(n[u]=l)}}catch(f){t={error:f}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}},enumerable:!1,configurable:!0}),e}(),la=function(){function e(t,r,n,o,i,a,s,c,u,l,f){s===void 0&&(s=0),this.type=t,this.method=r,this.timestamp=n,this.startTime=o,this.url=i,this.requestWrapper=a,this.status=s,this.duration=c,this.responseWrapper=u,this.error=l,this.endTime=f}return e.prototype.toSerializable=function(){var t,r,n,o,i={type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:(t=this.requestWrapper)===null||t===void 0?void 0:t.headers,requestBodySize:(r=this.requestWrapper)===null||r===void 0?void 0:r.bodySize,responseHeaders:(n=this.responseWrapper)===null||n===void 0?void 0:n.headers,responseBodySize:(o=this.responseWrapper)===null||o===void 0?void 0:o.bodySize};return Object.fromEntries(Object.entries(i).filter(function(a){var s=K(a,2);s[0];var c=s[1];return c!==void 0}))},e}();function fa(e){return typeof e=="object"&&e!==null&&"url"in e&&"method"in e}var da=function(){function e(t,r){r===void 0&&(r=Te()),this.callback=t,this.id=r}return e}(),va=function(){function e(t){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=t;var r=B();e.isSupported()&&(this.globalScope=r)}return e.isSupported=function(){var t=B();return!!t&&!!t.fetch},e.prototype.subscribe=function(t,r){var n,o,i,a,s,c,u,l,f,d;if(this.logger||(this.logger=r),this.eventCallbacks.set(t.id,t),!this.isObserving){var h=(i=(o=(n=this.globalScope)===null||n===void 0?void 0:n.XMLHttpRequest)===null||o===void 0?void 0:o.prototype)===null||i===void 0?void 0:i.open,v=(c=(s=(a=this.globalScope)===null||a===void 0?void 0:a.XMLHttpRequest)===null||s===void 0?void 0:s.prototype)===null||c===void 0?void 0:c.send,y=(f=(l=(u=this.globalScope)===null||u===void 0?void 0:u.XMLHttpRequest)===null||l===void 0?void 0:l.prototype)===null||f===void 0?void 0:f.setRequestHeader;h&&v&&y&&this.observeXhr(h,v,y);var m=(d=this.globalScope)===null||d===void 0?void 0:d.fetch;m&&this.observeFetch(m),this.isObserving=!0}},e.prototype.unsubscribe=function(t){this.eventCallbacks.delete(t.id)},e.prototype.triggerEventCallbacks=function(t){var r=this;this.eventCallbacks.forEach(function(n){var o;try{n.callback(t)}catch(i){(o=r.logger)===null||o===void 0||o.debug("an unexpected error occurred while triggering event callbacks",i)}})},e.prototype.handleNetworkRequestEvent=function(t,r,n,o,i,a,s){var c;if(!(a===void 0||s===void 0)){var u,l="GET";fa(r)?(u=r.url,l=r.method):u=(c=r?.toString)===null||c===void 0?void 0:c.call(r),l=n?.method||l;var f,d;o&&(f=o.status),i&&(d={name:i.name||"UnknownError",message:i.message||"An unknown error occurred"},f=0);var h=Math.floor(performance.now()-s),v=Math.floor(a+h),y=new la(t,l,a,a,u,n,f,h,o,d,v);this.triggerEventCallbacks(y)}},e.prototype.getTimestamps=function(){var t,r;return{startTime:(t=Date.now)===null||t===void 0?void 0:t.call(Date),durationStart:(r=performance?.now)===null||r===void 0?void 0:r.call(performance)}},e.prototype.observeFetch=function(t){var r=this;!this.globalScope||!t||(this.globalScope.fetch=function(n,o){return P(r,void 0,void 0,function(){var i,a,s,c,u,l;return k(this,function(f){switch(f.label){case 0:try{i=this.getTimestamps()}catch(d){(u=this.logger)===null||u===void 0||u.debug("an unexpected error occurred while retrieving timestamps",d)}f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t(n,o)];case 2:return a=f.sent(),[3,4];case 3:return c=f.sent(),s=c,[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",n,o?new aa(o):void 0,a?new sa(a):void 0,s,i?.startTime,i?.durationStart)}catch(d){(l=this.logger)===null||l===void 0||l.debug("an unexpected error occurred while handling fetch",d)}if(a)return[2,a];throw s}})})})},e.prototype.observeXhr=function(t,r,n){if(!(!this.globalScope||!t||!r)){var o=this.globalScope.XMLHttpRequest.prototype,i=this;o.open=function(){for(var a,s,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var l=this,f=K(c,2),d=f[0],h=f[1];try{l.$$AmplitudeAnalyticsEvent=x({method:d,url:(a=h?.toString)===null||a===void 0?void 0:a.call(h),headers:{}},i.getTimestamps())}catch(v){(s=i.logger)===null||s===void 0||s.debug("an unexpected error occurred while calling xhr open",v)}return t.apply(l,c)},o.send=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=this,u=a[0],l=c.$$AmplitudeAnalyticsEvent;return c.addEventListener("loadend",function(){var f;try{var d=c.getAllResponseHeaders(),h=c.getResponseHeader("content-length"),v=new ca(c.status,d,h?parseInt(h,10):void 0,c.responseText),y=c.$$AmplitudeAnalyticsEvent.headers,m=new ua(u,y);l.status=c.status,i.handleNetworkRequestEvent("xhr",{url:l.url,method:l.method},m,v,void 0,l.startTime,l.durationStart)}catch(p){(f=i.logger)===null||f===void 0||f.debug("an unexpected error occurred while handling xhr send",p)}}),r.apply(c,a)},o.setRequestHeader=function(a,s){var c,u=this;try{u.$$AmplitudeAnalyticsEvent.headers[a]=s}catch(l){(c=i.logger)===null||c===void 0||c.debug("an unexpected error occurred while calling xhr setRequestHeader",l)}n.apply(u,[a,s])}}},e}(),Fr=new va,ha=function(){function e(){}return e.prototype.parse=function(){return P(this,void 0,void 0,function(){return k(this,function(t){return[2,x(x(x(x({},ar),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=mt(),r=t[Yi],n=t[Xi],o=t[Qi],i=t[Zi],a=t[Ji],s=t[eo];return{utm_campaign:r,utm_content:n,utm_id:o,utm_medium:i,utm_source:a,utm_term:s}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=mt();return t={},t[Sr]=r[Sr],t[Ir]=r[Ir],t[Ar]=r[Ar],t[kr]=r[kr],t[Pr]=r[Pr],t[Cr]=r[Cr],t[Rr]=r[Rr],t[Or]=r[Or],t[xr]=r[xr],t[Lr]=r[Lr],t[Dr]=r[Dr],t},e}(),Xt=function(e,t){return Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Xt(e,t)};function Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var R=function(){return R=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},R.apply(this,arguments)};function qr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function j(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function $(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $n(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}var Ze=function(e,t){return typeof e=="boolean"?e:e?.[t]!==!1},Vn=function(e){return Ze(e,"attribution")},pa=function(e){return Ze(e,"fileDownloads")},ga=function(e){return Ze(e,"formInteractions")},Gn=function(e){return Ze(e,"pageViews")},jr=function(e){return Ze(e,"sessions")},Bn=function(e){return typeof e=="object"&&(e.networkTracking===!0||typeof e.networkTracking=="object")},Wn=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},ya=function(e){return typeof e=="object"&&e.webVitals===!0},Hn=function(e){return typeof e=="object"&&(e.frustrationInteractions===!0||typeof e.frustrationInteractions=="object")},ma=function(e){if(Wn(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},ba=function(e){if(Hn(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.frustrationInteractions=="object")return e.autocapture.frustrationInteractions},Ea=function(e){if(Bn(e.autocapture)){if(typeof e.autocapture=="object"&&typeof e.autocapture.networkTracking=="object")return e.autocapture.networkTracking;if(e.networkTrackingOptions)return e.networkTrackingOptions}},_a=function(e){var t=function(){return!1},r=void 0,n,o=e.pageCounter,i=Gn(e.defaultTracking);return i&&(t=void 0,n=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(n=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:r,eventType:n,pageCounter:o}},wa=function(e){return Vn(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?R({},e.defaultTracking.attribution):{}},Lt=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=n.name,i=n.args,a=n.resolve,s=e&&e[o];if(typeof s=="function"){var c=s.apply(e,i);typeof a=="function"&&a(c?.promise)}}return e},Dt=function(e){var t=e;return t&&t._q!==void 0},Kn="2.22.2",Ta="amplitude-ts",Sa="Web",Ia="$remote",Aa=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(Ta,"/").concat(Kn),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var r,n;return j(this,void 0,void 0,function(){var o,i,a,s;return $(this,function(c){return o=new Date().getTime(),i=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,a=(n=t.event_id)!==null&&n!==void 0?n:i+1,this.config.lastEventId=a,t.time||(this.config.lastEventTime=o),s=R(R(R(R(R(R(R(R({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:o},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Sa}),this.config.trackingOptions.language&&{language:Go()}),this.config.trackingOptions.ipAddress&&{ip:Ia}),{insert_id:Te(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,s]})})},e}(),ut=1e3,zn=function(e){Be(t,e);function t(r){var n=this,o,i,a;try{a=(o=B())===null||o===void 0?void 0:o.localStorage}catch(s){(i=r?.loggerProvider)===null||i===void 0||i.debug("Failed to access localStorage. error=".concat(JSON.stringify(s))),a=void 0}return n=e.call(this,a)||this,n.loggerProvider=r?.loggerProvider,n}return t.prototype.set=function(r,n){var o;return j(this,void 0,void 0,function(){var i;return $(this,function(a){switch(a.label){case 0:return Array.isArray(n)&&n.length>ut?(i=n.length-ut,[4,e.prototype.set.call(this,r,n.slice(0,ut))]):[3,2];case 1:return a.sent(),(o=this.loggerProvider)===null||o===void 0||o.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(ut,".")),[3,4];case 2:return[4,e.prototype.set.call(this,r,n)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t}(Mn),ka=function(e){Be(t,e);function t(){var r;return e.call(this,(r=B())===null||r===void 0?void 0:r.sessionStorage)||this}return t}(Mn),Pa=function(e){Be(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={done:4},r}return t.prototype.send=function(r,n){return j(this,void 0,void 0,function(){var o=this;return $(this,function(i){return[2,new Promise(function(a,s){typeof XMLHttpRequest>"u"&&s(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",r,!0),c.onreadystatechange=function(){if(c.readyState===o.state.done){var u=c.responseText;try{a(o.buildResponse(JSON.parse(u)))}catch{a(o.buildResponse({code:c.status}))}}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(n))})]})})},t}(sr),Ca=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return j(this,void 0,void 0,function(){var o=this;return $(this,function(i){return[2,new Promise(function(a,s){var c=B();if(!c?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var u=JSON.stringify(n),l=c.navigator.sendBeacon(r,JSON.stringify(n));return a(l?o.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:u.length,server_upload_time:Date.now()}):o.buildResponse({code:500}))}catch(f){s(f)}})]})})},t}(sr),Ra=function(e,t,r){return r===void 0&&(r=!0),j(void 0,void 0,void 0,function(){var n,o,i,a,s,c,u,l,f;return $(this,function(d){switch(d.label){case 0:return n=Vo(e),[4,t.getRaw(n)];case 1:return o=d.sent(),o?r?[4,t.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:d.sent(),d.label=3;case 3:return i=cr(o.split("."),6),a=i[0],s=i[1],c=i[2],u=i[3],l=i[4],f=i[5],[2,{deviceId:a,userId:Oa(s),sessionId:Ut(u),lastEventId:Ut(f),lastEventTime:Ut(l),optOut:!!c}]}})})},Ut=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},Oa=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},le="[Amplitude]",$r="".concat(le," Form Started"),xa="".concat(le," Form Submitted"),La="".concat(le," File Downloaded"),Vr="session_start",Gr="session_end",Da="".concat(le," File Extension"),Ua="".concat(le," File Name"),Na="".concat(le," Link ID"),Ma="".concat(le," Link Text"),Fa="".concat(le," Link URL"),Nt="".concat(le," Form ID"),Mt="".concat(le," Form Name"),Ft="".concat(le," Form Destination"),bt="cookie",qa="US",ja=function(e){Be(t,e);function t(r,n,o,i,a,s,c,u,l,f,d,h,v,y,m,p,g,b,_,T,I,E,S,A,M,F,L,re,oe,ae,ue,pe,ge,Ie,W){o===void 0&&(o=new ur),i===void 0&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),l===void 0&&(l=5),f===void 0&&(f=30),d===void 0&&(d=bt),p===void 0&&(p=new Ln),g===void 0&&(g=ee.Warn),_===void 0&&(_=!1),T===void 0&&(T=!1),S===void 0&&(S=""),A===void 0&&(A=qa),F===void 0&&(F=30*60*1e3),L===void 0&&(L=new zn({loggerProvider:p})),re===void 0&&(re={ipAddress:!0,language:!0,platform:!0}),oe===void 0&&(oe="fetch"),ae===void 0&&(ae=!1),ue===void 0&&(ue=!0);var w=e.call(this,{apiKey:r,storageProvider:L,transportProvider:Yn(oe)})||this;return w.apiKey=r,w.appVersion=n,w.cookieOptions=i,w.defaultTracking=a,w.autocapture=s,w.flushIntervalMillis=u,w.flushMaxRetries=l,w.flushQueueSize=f,w.identityStorage=d,w.ingestionMetadata=h,w.instanceName=v,w.loggerProvider=p,w.logLevel=g,w.minIdLength=b,w.offline=_,w.partnerId=I,w.plan=E,w.serverUrl=S,w.serverZone=A,w.sessionTimeout=F,w.storageProvider=L,w.trackingOptions=re,w.transport=oe,w.useBatch=ae,w.fetchRemoteConfig=ue,w.networkTrackingOptions=W,w.version=Kn,w._optOut=!1,w._cookieStorage=o,w.deviceId=c,w.lastEventId=y,w.lastEventTime=m,w.optOut=T,w.sessionId=M,w.pageCounter=ge,w.userId=pe,w.debugLogsEnabled=Ie,w.loggerProvider.enable(Ie?ee.Debug:w.logLevel),w.networkTrackingOptions=W,w}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(Nn(this.apiKey),r)},t}(Ao),$a=function(e,t,r){return t===void 0&&(t={}),j(void 0,void 0,void 0,function(){var n,o,i,a,s,c,u,l,f,d,h,v,y,m,p,g,b,_,T,I,E,S,A,M,F,L,re,oe,ae,ue,pe,ge,Ie,W,w,xe,Ae,ye,At,kt,Pt,Ct,Rt,Ot,xt;return $(this,function(ke){switch(ke.label){case 0:return n=t.identityStorage||bt,E={},n===bt?[3,1]:(i="",[3,5]);case 1:return(A=(S=t.cookieOptions)===null||S===void 0?void 0:S.domain)!==null&&A!==void 0?(a=A,[3,4]):[3,2];case 2:return[4,Ga()];case 3:a=ke.sent(),ke.label=4;case 4:i=a,ke.label=5;case 5:return o=R.apply(void 0,[(E.domain=i,E.expiration=365,E.sameSite="Lax",E.secure=!1,E.upgrade=!0,E),t.cookieOptions]),s=Va(t.identityStorage,o),[4,Ra(e,s,(F=(M=t.cookieOptions)===null||M===void 0?void 0:M.upgrade)!==null&&F!==void 0?F:!0)];case 6:return c=ke.sent(),[4,s.get(Nn(e))];case 7:return u=ke.sent(),l=mt(),f=l.ampTimestamp?Number(l.ampTimestamp):void 0,d=f?Date.now()<f:!0,h=(ue=(ae=(oe=(L=t.deviceId)!==null&&L!==void 0?L:d?(re=l.ampDeviceId)!==null&&re!==void 0?re:l.deviceId:void 0)!==null&&oe!==void 0?oe:u?.deviceId)!==null&&ae!==void 0?ae:c.deviceId)!==null&&ue!==void 0?ue:Te(),v=(pe=u?.lastEventId)!==null&&pe!==void 0?pe:c.lastEventId,y=(ge=u?.lastEventTime)!==null&&ge!==void 0?ge:c.lastEventTime,m=(W=(Ie=t.optOut)!==null&&Ie!==void 0?Ie:u?.optOut)!==null&&W!==void 0?W:c.optOut,p=(w=u?.sessionId)!==null&&w!==void 0?w:c.sessionId,g=(Ae=(xe=t.userId)!==null&&xe!==void 0?xe:u?.userId)!==null&&Ae!==void 0?Ae:c.userId,r.previousSessionDeviceId=(ye=u?.deviceId)!==null&&ye!==void 0?ye:c.deviceId,r.previousSessionUserId=(At=u?.userId)!==null&&At!==void 0?At:c.userId,b={ipAddress:(Pt=(kt=t.trackingOptions)===null||kt===void 0?void 0:kt.ipAddress)!==null&&Pt!==void 0?Pt:!0,language:(Rt=(Ct=t.trackingOptions)===null||Ct===void 0?void 0:Ct.language)!==null&&Rt!==void 0?Rt:!0,platform:(xt=(Ot=t.trackingOptions)===null||Ot===void 0?void 0:Ot.platform)!==null&&xt!==void 0?xt:!0},_=u?.pageCounter,T=u?.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),I=new ja(e,t.appVersion,s,o,t.defaultTracking,t.autocapture,h,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,n,t.ingestionMetadata,t.instanceName,v,y,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,m,t.partnerId,t.plan,t.serverUrl,t.serverZone,p,t.sessionTimeout,t.storageProvider,b,t.transport,t.useBatch,t.fetchRemoteConfig,g,_,T,t.networkTrackingOptions),[4,I.storageProvider.isEnabled()];case 8:return ke.sent()||(I.loggerProvider.warn("Storage provider ".concat(I.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),I.storageProvider=new ur),[2,I]}})})},Va=function(e,t){switch(e===void 0&&(e=bt),t===void 0&&(t={}),e){case"localStorage":return new zn;case"sessionStorage":return new ka;case"none":return new ur;case"cookie":default:return new Yt(R(R({},t),{expirationDays:t.expiration}))}},Yn=function(e){return e==="xhr"?new Pa:e==="beacon"?new Ca:new Xo},Ga=function(e){return j(void 0,void 0,void 0,function(){var t,r,n,o,i,i,a,s,c,u;return $(this,function(l){switch(l.label){case 0:return[4,new Yt().isEnabled()];case 1:if(!l.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,r=t.split("."),n=[],o="AMP_TLDTEST",i=r.length-2;i>=0;--i)n.push(r.slice(i).join("."));i=0,l.label=2;case 2:return i<n.length?(a=n[i],s={domain:"."+a},c=new Yt(s),[4,c.set(o,1)]):[3,7];case 3:return l.sent(),[4,c.get(o)];case 4:return u=l.sent(),u?[4,c.remove(o)]:[3,6];case 5:return l.sent(),[2,"."+a];case 6:return i++,[3,2];case 7:return[2,""]}})})},be=function(){return be=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},be.apply(this,arguments)};function De(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function Ue(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Qt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Br(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Me=function(){return Me=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Me.apply(this,arguments)};function Ba(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function Wa(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Xn=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Wr=function(){var e,t=Xn();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(o,i){var a=i.split("=",2),s=Hr(a[0]),c=Hr(a[1]);return c&&(o[s]=c),o},{});return n},Hr=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},Ha="utm_campaign",Ka="utm_content",za="utm_id",Ya="utm_medium",Xa="utm_source",Qa="utm_term",Kr="dclid",zr="fbclid",Yr="gbraid",Xr="gclid",Qr="ko_click_id",Zr="li_fat_id",Jr="msclkid",en="rtd_cid",tn="ttclid",rn="twclid",nn="wbraid",Qn={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Za=function(){function e(){}return e.prototype.parse=function(){return Ba(this,void 0,void 0,function(){return Wa(this,function(t){return[2,Me(Me(Me(Me({},Qn),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=Wr(),r=t[Ha],n=t[Ka],o=t[za],i=t[Ya],a=t[Xa],s=t[Qa];return{utm_campaign:r,utm_content:n,utm_id:o,utm_medium:i,utm_source:a,utm_term:s}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=Wr();return t={},t[Kr]=r[Kr],t[zr]=r[zr],t[Yr]=r[Yr],t[Xr]=r[Xr],t[Qr]=r[Qr],t[Zr]=r[Zr],t[Jr]=r[Jr],t[en]=r[en],t[tn]=r[tn],t[rn]=r[rn],t[nn]=r[nn],t},e}(),Et;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Et||(Et={}));var on;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue"})(on||(on={}));var an;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(an||(an={}));var Ja=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t},eu="[Amplitude] Page Viewed",tu=function(e){e===void 0&&(e={});var t,r=Xn(),n=void 0,o=!1,i,a=e.trackOn,s=e.trackHistoryChanges,c=e.eventType,u=c===void 0?eu:c,l=function(p){var g=p;try{g=decodeURI(p)}catch(b){n?.error("Malformed URI sequence: ",b)}return g},f=function(){return De(void 0,void 0,void 0,function(){var p,g,b;return Ue(this,function(_){switch(_.label){case 0:return p=l(typeof location<"u"&&location.href||""),b={event_type:u},g=[{}],[4,ru()];case 1:return[2,(b.event_properties=be.apply(void 0,[be.apply(void 0,g.concat([_.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":p,"[Amplitude] Page Path":typeof location<"u"&&l(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":p.split("?")[0]}]),b)]}})})},d=function(){return typeof a>"u"||typeof a=="function"&&a()},h=typeof location<"u"?location.href:null,v=function(){return De(void 0,void 0,void 0,function(){var p,g,b,_;return Ue(this,function(T){switch(T.label){case 0:return p=location.href,g=iu(s,p,h||"")&&d(),h=p,g?(n?.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return _=(b=t).track,[4,f()];case 2:_.apply(b,[T.sent()]),T.label=3;case 3:T.label=4;case 4:return[2]}})})},y=function(){v()},m={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(p,g){return De(void 0,void 0,void 0,function(){var b,_;return Ue(this,function(T){switch(T.label){case 0:return t=g,i=p,n=p.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),o=!0,r&&(r.addEventListener("popstate",y),r.history.pushState=new Proxy(r.history.pushState,{apply:function(I,E,S){var A=Qt(S,3),M=A[0],F=A[1],L=A[2];I.apply(E,[M,F,L]),o&&v()}})),d()?(n.log("Tracking page view event"),_=(b=t).track,[4,f()]):[3,2];case 1:_.apply(b,[T.sent()]),T.label=2;case 2:return[2]}})})},execute:function(p){return De(void 0,void 0,void 0,function(){var g;return Ue(this,function(b){switch(b.label){case 0:return a==="attribution"&&nu(p)?(n?.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:g=b.sent(),p.event_type=g.event_type,p.event_properties=be(be({},p.event_properties),g.event_properties),b.label=2;case 2:return i&&p.event_type===u&&(i.pageCounter=i.pageCounter?i.pageCounter+1:1,p.event_properties=be(be({},p.event_properties),{"[Amplitude] Page Counter":i.pageCounter})),[2,p]}})})},teardown:function(){return De(void 0,void 0,void 0,function(){return Ue(this,function(p){return r&&(r.removeEventListener("popstate",y),o=!1),[2]})})}};return m},ru=function(){return De(void 0,void 0,void 0,function(){var e;return Ue(this,function(t){switch(t.label){case 0:return e=Ja,[4,new Za().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},nu=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,r=t[Et.SET]||{},n=t[Et.UNSET]||{},o=Br(Br([],Qt(Object.keys(r)),!1),Qt(Object.keys(n)),!1);return Object.keys(Qn).every(function(i){return o.includes(i)})}return!1},iu=function(e,t,r){switch(e){case"pathOnly":{if(r=="")return!0;var n=new URL(t),o=new URL(r),i=n.origin+n.pathname,a=o.origin+o.pathname;return i!==a}default:return t!==r}},ou=function(){var e,t=[],r=function(u,l,f){u.addEventListener(l,f),t.push({element:u,type:l,handler:f})},n=function(){t.forEach(function(u){var l=u.element,f=u.type,d=u.handler;l?.removeEventListener(f,d)}),t=[]},o="@amplitude/plugin-form-interaction-tracking-browser",i="enrichment",a=function(u,l){return j(void 0,void 0,void 0,function(){var f,d;return $(this,function(h){return f=function(){if(!l){u.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var v=function(m){var p=!1;r(m,"change",function(){var g,b=un(m);p||l.track($r,(g={},g[Nt]=Le(m.id),g[Mt]=Le(m.name),g[Ft]=b,g)),p=!0}),r(m,"submit",function(){var g,b,_=un(m);p||l.track($r,(g={},g[Nt]=Le(m.id),g[Mt]=Le(m.name),g[Ft]=_,g)),l.track(xa,(b={},b[Nt]=Le(m.id),b[Mt]=Le(m.name),b[Ft]=_,b)),p=!1})},y=Array.from(document.getElementsByTagName("form"));y.forEach(v),typeof MutationObserver<"u"&&(e=new MutationObserver(function(m){m.forEach(function(p){p.addedNodes.forEach(function(g){g.nodeName==="FORM"&&v(g),"querySelectorAll"in g&&typeof g.querySelectorAll=="function"&&Array.from(g.querySelectorAll("form")).map(v)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(d=B(),d?d.addEventListener("load",f):u.loggerProvider.debug("Form interaction tracking is not installed because global is undefined.")),[2]})})},s=function(u){return j(void 0,void 0,void 0,function(){return $(this,function(l){return[2,u]})})},c=function(){return j(void 0,void 0,void 0,function(){return $(this,function(u){return e?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:a,execute:s,teardown:c}},Le=function(e){if(typeof e=="string")return e},un=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},au=function(){var e,t=[],r=function(u,l,f){u.addEventListener(l,f),t.push({element:u,type:l,handler:f})},n=function(){t.forEach(function(u){var l=u.element,f=u.type,d=u.handler;l?.removeEventListener(f,d)}),t=[]},o="@amplitude/plugin-file-download-tracking-browser",i="enrichment",a=function(u,l){return j(void 0,void 0,void 0,function(){var f,d;return $(this,function(h){return f=function(){if(!l){u.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var v=function(p){var g;try{g=new URL(p.href,window.location.href)}catch{return}var b=y.exec(g.href),_=b?.[1];_&&r(p,"click",function(){var T;_&&l.track(La,(T={},T[Da]=_,T[Ua]=g.pathname,T[Na]=p.id,T[Ma]=p.text,T[Fa]=p.href,T))})},y=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,m=Array.from(document.getElementsByTagName("a"));m.forEach(v),typeof MutationObserver<"u"&&(e=new MutationObserver(function(p){p.forEach(function(g){g.addedNodes.forEach(function(b){b.nodeName==="A"&&v(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("a")).map(v)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(d=B(),d?d.addEventListener("load",f):u.loggerProvider.debug("File download tracking is not installed because global is undefined.")),[2]})})},s=function(u){return j(void 0,void 0,void 0,function(){return $(this,function(l){return[2,u]})})},c=function(){return j(void 0,void 0,void 0,function(){return $(this,function(u){return e?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:a,execute:s,teardown:c}},sn=!1,uu=function(e){if(!(sn||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),sn=!0}},su=function(){var e="@amplitude/plugin-network-checker-browser",t="before",r=B(),n=[],o=function(c,u){r?.addEventListener&&(r?.addEventListener(c,u),n.push({type:c,handler:u}))},i=function(){n.forEach(function(c){var u=c.type,l=c.handler;r?.removeEventListener(u,l)}),n=[]},a=function(c,u){return j(void 0,void 0,void 0,function(){return $(this,function(l){return typeof navigator>"u"?(c.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),c.offline=!1,[2]):(c.offline=!navigator.onLine,o("online",function(){c.loggerProvider.debug("Network connectivity changed to online."),c.offline=!1,setTimeout(function(){u.flush()},c.flushIntervalMillis)}),o("offline",function(){c.loggerProvider.debug("Network connectivity changed to offline."),c.offline=!0}),[2])})})},s=function(){return j(void 0,void 0,void 0,function(){return $(this,function(c){return i(),[2]})})};return{name:e,type:t,setup:a,teardown:s}};function Zn(e){var t,r;if(!(typeof e!="object"||e===null)&&!Array.isArray(e)){var n=Object.keys(e);try{for(var o=$n(n),i=o.next();!i.done;i=o.next()){var a=i.value;try{var s=e[a];typeof s?.enabled=="boolean"&&(s.enabled?(delete s.enabled,Object.keys(s).length===0&&(e[a]=!0)):e[a]=!1),Zn(s)}catch{}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}}function cu(e,t){var r,n,o,i;if(e){Zn(e);try{t.loggerProvider.debug("Update browser config with remote configuration:",JSON.stringify(e));var a=e;if(a&&"autocapture"in a){if(typeof a.autocapture=="boolean"&&(t.autocapture=a.autocapture),typeof a.autocapture=="object"&&a.autocapture!==null){var s=R({},a.autocapture);if(t.autocapture===void 0&&(t.autocapture=a.autocapture),typeof a.autocapture.elementInteractions=="object"&&a.autocapture.elementInteractions!==null&&(!((o=a.autocapture.elementInteractions.pageUrlAllowlistRegex)===null||o===void 0)&&o.length)){s.elementInteractions=R({},a.autocapture.elementInteractions);var c=s.elementInteractions,u=(i=c.pageUrlAllowlist)!==null&&i!==void 0?i:[],l=[];try{for(var f=$n(a.autocapture.elementInteractions.pageUrlAllowlistRegex),d=f.next();!d.done;d=f.next()){var h=d.value;try{l.push(new RegExp(h))}catch(y){t.loggerProvider.warn("Invalid regex pattern: ".concat(h),y)}}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}var v=u.concat(l);c.pageUrlAllowlist=v,delete c.pageUrlAllowlistRegex}typeof t.autocapture=="boolean"&&(t.autocapture=R({attribution:t.autocapture,fileDownloads:t.autocapture,formInteractions:t.autocapture,pageViews:t.autocapture,sessions:t.autocapture,elementInteractions:t.autocapture,webVitals:t.autocapture,frustrationInteractions:t.autocapture},s)),typeof t.autocapture=="object"&&(t.autocapture=R(R({},t.autocapture),s))}t.defaultTracking=t.autocapture}t.loggerProvider.debug("Browser config after remote config update:",JSON.stringify(t))}catch(y){t.loggerProvider.error("Failed to apply remote configuration because of error: ",y)}}}var ce=function(){return ce=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ce.apply(this,arguments)};function Z(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function J(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ie(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function se(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var _t;(function(e){e.US="US",e.EU="EU",e.STAGING="STAGING"})(_t||(_t={}));var H;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(H||(H={}));var lu=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,o,i,a,s,c,u,l,f,d,h,v,y,m,p,g,b,_,T,I,E;if(typeof t!="object")return null;var S=t.code||0,A=this.buildStatus(S);switch(A){case H.Success:return{status:A,statusCode:S,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(o=t.server_upload_time)!==null&&o!==void 0?o:0}};case H.Invalid:return{status:A,statusCode:S,body:{error:(i=t.error)!==null&&i!==void 0?i:"",missingField:(a=t.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(s=t.events_with_invalid_fields)!==null&&s!==void 0?s:{},eventsWithMissingFields:(c=t.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(u=t.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(f=t.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=t.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=t.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(v=t.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(y=t.throttled_events)!==null&&y!==void 0?y:[]}};case H.PayloadTooLarge:return{status:A,statusCode:S,body:{error:(m=t.error)!==null&&m!==void 0?m:""}};case H.RateLimit:return{status:A,statusCode:S,body:{error:(p=t.error)!==null&&p!==void 0?p:"",epsThreshold:(g=t.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=t.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(_=t.throttled_users)!==null&&_!==void 0?_:{},exceededDailyQuotaDevices:(T=t.exceeded_daily_quota_devices)!==null&&T!==void 0?T:{},exceededDailyQuotaUsers:(I=t.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(E=t.throttled_events)!==null&&E!==void 0?E:[]}};case H.Timeout:default:return{status:A,statusCode:S}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?H.Success:t===429?H.RateLimit:t===413?H.PayloadTooLarge:t===408?H.Timeout:t>=400&&t<500?H.Invalid:t>=500?H.Failed:H.Unknown},e}(),fu="Network error occurred, remote config fetch failed",du="Remote config successfully fetched",vu="Remote config fetch rejected due to exceeded retry count",cn="Remote config fetch rejected due to timeout after 5 seconds",ln="Unexpected error occurred",hu="https://sr-client-cfg.amplitude.com/config",pu="https://sr-client-cfg.stag2.amplitude.com/config",gu="https://sr-client-cfg.eu.amplitude.com/config",yu=function(){function e(t){var r=t.localConfig,n=t.configKeys,o=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteNamespaceConfig=function(i,a){return Z(o,void 0,void 0,function(){var s,c,u;return J(this,function(l){switch(l.label){case 0:return s=Date.now(),[4,this.fetchWithTimeout(a)];case 1:return c=l.sent(),c&&(u=c.configs&&c.configs[i],u)?(this.metrics.fetchTimeAPISuccess=Date.now()-s,[2,u]):(this.metrics.fetchTimeAPIFail=Date.now()-s,[2,void 0])}})})},this.getRemoteConfig=function(i,a,s){return Z(o,void 0,void 0,function(){var c;return J(this,function(u){switch(u.label){case 0:return[4,this.getRemoteNamespaceConfig(i,s)];case 1:return c=u.sent(),[2,c?.[a]]}})})},this.fetchWithTimeout=function(i){return Z(o,void 0,void 0,function(){var a,s,c;return J(this,function(u){switch(u.label){case 0:return a=new AbortController,s=setTimeout(function(){return a.abort()},5e3),[4,this.fetchRemoteConfig(a.signal,i)];case 1:return c=u.sent(),clearTimeout(s),[2,c]}})})},this.fetchRemoteConfig=function(i,a){return Z(o,void 0,void 0,function(){var s,c,u,l,f,d,h,v,y,m,p,g,b;return J(this,function(_){switch(_.label){case 0:if(a===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:vu})];if(i.aborted)return[2,this.completeRequest({err:cn})];a!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=a,this.attempts=0),_.label=1;case 1:_.trys.push([1,3,,4]),s=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(c=ie(this.configKeys),u=c.next();!u.done;u=c.next())l=u.value,s.append("config_keys",l)}catch(T){p={error:T}}finally{try{u&&!u.done&&(g=c.return)&&g.call(c)}finally{if(p)throw p.error}}return a&&s.set("session_id",String(a)),f={headers:{Accept:"*/*"},method:"GET"},d="".concat(this.getServerUrl(),"?").concat(s.toString()),this.attempts+=1,[4,fetch(d,ce(ce({},f),{signal:i}))];case 2:if(h=_.sent(),h===null)return[2,this.completeRequest({err:ln})];switch(v=new lu().buildStatus(h.status),v){case H.Success:return this.attempts=0,[2,this.parseAndStoreConfig(h)];case H.Failed:return[2,this.retryFetch(i,a)];default:return[2,this.completeRequest({err:fu})]}case 3:return y=_.sent(),m=y,i.aborted?[2,this.completeRequest({err:cn})]:[2,this.completeRequest({err:(b=m.message)!==null&&b!==void 0?b:ln})];case 4:return[2]}})})},this.retryFetch=function(i,a){return Z(o,void 0,void 0,function(){var s=this;return J(this,function(c){switch(c.label){case 0:return[4,new Promise(function(u){return setTimeout(u,s.attempts*s.retryTimeout)})];case 1:return c.sent(),[2,this.fetchRemoteConfig(i,a)]}})})},this.parseAndStoreConfig=function(i){return Z(o,void 0,void 0,function(){var a;return J(this,function(s){switch(s.label){case 0:return[4,i.json()];case 1:return a=s.sent(),this.completeRequest({success:du}),[2,a]}})})},this.localConfig=r,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.configServerUrl?this.localConfig.configServerUrl:this.localConfig.serverZone===_t.STAGING?pu:this.localConfig.serverZone===_t.EU?gu:hu},e.prototype.completeRequest=function(t){var r=t.err,n=t.success;if(r)throw new Error(r);n&&this.localConfig.loggerProvider.log(n)},e}(),mu=function(e){var t=e.localConfig,r=e.configKeys;return Z(void 0,void 0,void 0,function(){return J(this,function(n){return[2,new yu({localConfig:t,configKeys:r})]})})},bu=mu,Eu="@amplitude/plugin-autocapture-browser",_u="@amplitude/plugin-frustration-browser",Zt="[Amplitude] Element Clicked",wu="[Amplitude] Dead Click",Tu="[Amplitude] Rage Click",Su="[Amplitude] Element Changed",Iu="[Amplitude] Element ID",Au="[Amplitude] Element Class",Jn="[Amplitude] Element Tag",ei="[Amplitude] Element Text",ku="[Amplitude] Element Hierarchy",Pu="[Amplitude] Element Href",Cu="[Amplitude] Element Position Left",Ru="[Amplitude] Element Position Top",Ou="[Amplitude] Element Aria Label",xu="[Amplitude] Element Attributes",Lu="[Amplitude] Element Parent Label",ti="[Amplitude] Page URL",Du="[Amplitude] Page Title",Uu="[Amplitude] Viewport Height",Nu="[Amplitude] Viewport Width",vt="https://app.amplitude.com",Mu="https://app.eu.amplitude.com",Fu="https://apps.stag2.amplitude.com",qu={US:vt,EU:Mu,STAGING:Fu},ju="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",$u="amp-visual-tagging-selector-highlight",Jt=function(e,t){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Jt(e,t)};function Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Vu(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function ri(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $e(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Ve(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function je(e){return this instanceof je?(this.v=e,this):new je(e)}function Gu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){n[d]&&(o[d]=function(h){return new Promise(function(v,y){i.push([d,h,v,y])>1||s(d,h)})})}function s(d,h){try{c(n[d](h))}catch(v){f(i[0][3],v)}}function c(d){d.value instanceof je?Promise.resolve(d.value.v).then(u,l):f(i[0][2],d)}function u(d){s("next",d)}function l(d){s("throw",d)}function f(d,h){d(h),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Bu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $e=="function"?$e(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},a)}}function O(e){return typeof e=="function"}function lr(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var qt=lr(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function wt(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Je=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=$e(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(y){t={error:y}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(O(l))try{l()}catch(y){i=y instanceof qt?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=$e(f),h=d.next();!h.done;h=d.next()){var v=h.value;try{fn(v)}catch(y){i=i??[],y instanceof qt?i=Ve(Ve([],Oe(i)),Oe(y.errors)):i.push(y)}}}catch(y){n={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}if(i)throw new qt(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)fn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&wt(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&wt(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),ni=Je.EMPTY;function ii(e){return e instanceof Je||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function fn(e){O(e)?e():e.unsubscribe()}var Wu={Promise:void 0},Hu={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Ve([e,t],Oe(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function oi(e){Hu.setTimeout(function(){throw e})}function er(){}function ht(e){e()}var fr=function(e){Se(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ii(r)&&r.add(n)):n.destination=Yu,n}return t.create=function(r,n,o){return new Xe(r,n,o)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Je),Ku=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){st(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){st(n)}else st(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){st(r)}},e}(),Xe=function(e){Se(t,e);function t(r,n,o){var i=e.call(this)||this,a;return O(r)||!r?a={next:r??void 0,error:n??void 0,complete:o??void 0}:a=r,i.destination=new Ku(a),i}return t}(fr);function st(e){oi(e)}function zu(e){throw e}var Yu={closed:!0,next:er,error:zu,complete:er},dr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ai(e){return e}function Xu(e){return e.length===0?ai:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var V=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=Zu(t)?t:new Xe(t,r,n);return ht(function(){var a=o,s=a.operator,c=a.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=dn(r),new r(function(o,i){var a=new Xe({next:function(s){try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[dr]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Xu(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=dn(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function dn(e){var t;return(t=e??Wu.Promise)!==null&&t!==void 0?t:Promise}function Qu(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function Zu(e){return e&&e instanceof fr||Qu(e)&&ii(e)}function Ju(e){return O(e?.lift)}function te(e){return function(t){if(Ju(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,r,n,o){return new es(e,t,r,n,o)}var es=function(e){Se(t,e);function t(r,n,o,i,a,s){var c=e.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(fr),ts=lr(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ui=function(e){Se(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new vn(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new ts},t.prototype.next=function(r){var n=this;ht(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=$e(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(r)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;ht(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;ht(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?ni:(this.currentObservers=null,s.push(r),new Je(function(){n.currentObservers=null,wt(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?r.error(i):a&&r.complete()},t.prototype.asObservable=function(){var r=new V;return r.source=this,r},t.create=function(r,n){return new vn(r,n)},t}(V),vn=function(e){Se(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:ni},t}(ui),rs={now:function(){return Date.now()}},ns=function(e){Se(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Je),hn={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,Ve([e,t],Oe(r)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},is=function(e){Se(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),hn.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&hn.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,wt(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ns),pn=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=rs.now,e}(),os=function(e){Se(t,e);function t(r,n){n===void 0&&(n=pn.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t}(pn),et=new os(is),as=et,vr=new V(function(e){return e.complete()});function si(e){return e&&O(e.schedule)}function ci(e){return e[e.length-1]}function us(e){return si(ci(e))?e.pop():void 0}function ss(e,t){return typeof ci(e)=="number"?e.pop():t}var hr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function li(e){return O(e?.then)}function fi(e){return O(e[dr])}function di(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function vi(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function cs(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hi=cs();function pi(e){return O(e?.[hi])}function gi(e){return Gu(this,arguments,function(){var r,n,o,i;return ri(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,je(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,je(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,je(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function yi(e){return O(e?.getReader)}function Y(e){if(e instanceof V)return e;if(e!=null){if(fi(e))return ls(e);if(hr(e))return fs(e);if(li(e))return ds(e);if(di(e))return mi(e);if(pi(e))return vs(e);if(yi(e))return hs(e)}throw vi(e)}function ls(e){return new V(function(t){var r=e[dr]();if(O(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fs(e){return new V(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function ds(e){return new V(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,oi)})}function vs(e){return new V(function(t){var r,n;try{for(var o=$e(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function mi(e){return new V(function(t){ps(e,t).catch(function(r){return t.error(r)})})}function hs(e){return mi(gi(e))}function ps(e,t){var r,n,o,i;return Vu(this,void 0,void 0,function(){var a,s;return ri(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Bu(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ee(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function bi(e,t){return t===void 0&&(t=0),te(function(r,n){r.subscribe(z(n,function(o){return Ee(n,e,function(){return n.next(o)},t)},function(){return Ee(n,e,function(){return n.complete()},t)},function(o){return Ee(n,e,function(){return n.error(o)},t)}))})}function Ei(e,t){return t===void 0&&(t=0),te(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function gs(e,t){return Y(e).pipe(Ei(t),bi(t))}function ys(e,t){return Y(e).pipe(Ei(t),bi(t))}function ms(e,t){return new V(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function bs(e,t){return new V(function(r){var n;return Ee(r,t,function(){n=e[hi](),Ee(r,t,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(s){r.error(s);return}a?r.complete():r.next(i)},0,!0)}),function(){return O(n?.return)&&n.return()}})}function _i(e,t){if(!e)throw new Error("Iterable cannot be null");return new V(function(r){Ee(r,t,function(){var n=e[Symbol.asyncIterator]();Ee(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function Es(e,t){return _i(gi(e),t)}function _s(e,t){if(e!=null){if(fi(e))return gs(e,t);if(hr(e))return ms(e,t);if(li(e))return ys(e,t);if(di(e))return _i(e,t);if(pi(e))return bs(e,t);if(yi(e))return Es(e,t)}throw vi(e)}function ws(e,t){return t?_s(e,t):Y(e)}function wi(e){return e instanceof Date&&!isNaN(e)}var Ts=lr(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Ss(e,t){var r=wi(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,o=r.each,i=r.with,a=i===void 0?Is:i,s=r.scheduler,c=s===void 0?et:s,u=r.meta,l=u===void 0?null:u;if(n==null&&o==null)throw new TypeError("No timeout provided.");return te(function(f,d){var h,v,y=null,m=0,p=function(g){v=Ee(d,c,function(){try{h.unsubscribe(),Y(a({meta:l,lastValue:y,seen:m})).subscribe(d)}catch(b){d.error(b)}},g)};h=f.subscribe(z(d,function(g){v?.unsubscribe(),m++,d.next(y=g),o>0&&p(o)},void 0,void 0,function(){v?.closed||v?.unsubscribe(),y=null})),!m&&p(n!=null?typeof n=="number"?n:+n-c.now():o)})}function Is(e){throw new Ts(e)}function G(e,t){return te(function(r,n){var o=0;r.subscribe(z(n,function(i){n.next(e.call(t,i,o++))}))})}var As=Array.isArray;function ks(e,t){return As(t)?e.apply(void 0,Ve([],Oe(t))):e(t)}function Ps(e){return G(function(t){return ks(e,t)})}function Cs(e,t,r,n,o,i,a,s){var c=[],u=0,l=0,f=!1,d=function(){f&&!c.length&&!u&&t.complete()},h=function(y){return u<n?v(y):c.push(y)},v=function(y){u++;var m=!1;Y(r(y,l++)).subscribe(z(t,function(p){t.next(p)},function(){m=!0},void 0,function(){if(m)try{u--;for(var p=function(){var g=c.shift();a||v(g)};c.length&&u<n;)p();d()}catch(g){t.error(g)}}))};return e.subscribe(z(t,h,function(){f=!0,d()})),function(){}}function tt(e,t,r){return r===void 0&&(r=1/0),O(t)?tt(function(n,o){return G(function(i,a){return t(n,i,o,a)})(Y(e(n,o)))},r):(typeof t=="number"&&(r=t),te(function(n,o){return Cs(n,o,e,r)}))}function Rs(e){return e===void 0&&(e=1/0),tt(ai,e)}var Os=["addListener","removeListener"],xs=["addEventListener","removeEventListener"],Ls=["on","off"];function Ge(e,t,r,n){if(O(r)&&(n=r,r=void 0),n)return Ge(e,t,r).pipe(Ps(n));var o=Oe(Ns(e)?xs.map(function(s){return function(c){return e[s](t,c,r)}}):Ds(e)?Os.map(gn(e,t)):Us(e)?Ls.map(gn(e,t)):[],2),i=o[0],a=o[1];if(!i&&hr(e))return tt(function(s){return Ge(s,t,r)})(Y(e));if(!i)throw new TypeError("Invalid event target");return new V(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return i(c),function(){return a(c)}})}function gn(e,t){return function(r){return function(n){return e[r](t,n)}}}function Ds(e){return O(e.addListener)&&O(e.removeListener)}function Us(e){return O(e.on)&&O(e.off)}function Ns(e){return O(e.addEventListener)&&O(e.removeEventListener)}function Ti(e,t,r){e===void 0&&(e=0),r===void 0&&(r=as);var n=-1;return t!=null&&(si(t)?r=t:n=t),new V(function(o){var i=wi(e)?+e-r.now():e;i<0&&(i=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function pr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=us(e),n=ss(e,1/0),o=e;return o.length?o.length===1?Y(o[0]):Rs(n)(ws(o,r)):vr}var Ms=Array.isArray;function Fs(e){return e.length===1&&Ms(e[0])?e[0]:e}function X(e,t){return te(function(r,n){var o=0;r.subscribe(z(n,function(i){return e.call(t,i,o++)&&n.next(i)}))})}function qs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Fs(e),e.length===1?Y(e[0]):new V(js(e))}function js(e){return function(t){for(var r=[],n=function(i){r.push(Y(e[i]).subscribe(z(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==i&&r[s].unsubscribe();r=null}t.next(a)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}function $s(e){return te(function(t,r){var n=[];return t.subscribe(z(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),Y(e).subscribe(z(r,function(){var o=n;n=[],r.next(o)},er)),function(){n=null}})}function Vs(e,t){return t===void 0&&(t=et),te(function(r,n){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,n.next(u)}};function c(){var u=a+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),n.add(o);return}s()}r.subscribe(z(n,function(u){i=u,a=t.now(),o||(o=t.schedule(c,e),n.add(o))},function(){s(),n.complete()},void 0,function(){i=o=null}))})}function gr(e){return e<=0?function(){return vr}:te(function(t,r){var n=0;t.subscribe(z(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function Gs(e){return G(function(){return e})}function Bs(e,t){return tt(function(r,n){return Y(e(r,n)).pipe(gr(1),Gs(r))})}function Ws(e,t){t===void 0&&(t=et);var r=Ti(e,t);return Bs(function(){return r})}function Hs(){return te(function(e,t){var r,n=!1;e.subscribe(z(t,function(o){var i=r;r=o,n&&t.next([i,o]),n=!0}))})}function Ce(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new ui}:t,n=e.resetOnError,o=n===void 0?!0:n,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,c=s===void 0?!0:s;return function(u){var l,f,d,h=0,v=!1,y=!1,m=function(){f?.unsubscribe(),f=void 0},p=function(){m(),l=d=void 0,v=y=!1},g=function(){var b=l;p(),b?.unsubscribe()};return te(function(b,_){h++,!y&&!v&&m();var T=d=d??r();_.add(function(){h--,h===0&&!y&&!v&&(f=jt(g,c))}),T.subscribe(_),!l&&h>0&&(l=new Xe({next:function(I){return T.next(I)},error:function(I){y=!0,m(),f=jt(p,o,I),T.error(I)},complete:function(){v=!0,m(),f=jt(p,a),T.complete()}}),Y(b).subscribe(l))})(u)}}function jt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var o=new Xe({next:function(){o.unsubscribe(),e()}});return Y(t.apply(void 0,Ve([],Oe(r)))).subscribe(o)}}function Ks(e,t){return te(function(r,n){var o=null,i=0,a=!1,s=function(){return a&&!o&&n.complete()};r.subscribe(z(n,function(c){o?.unsubscribe();var u=0,l=i++;Y(e(c,l)).subscribe(o=z(n,function(f){return n.next(t?t(c,f,l,u++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}function zs(e,t){return te(function(r,n){var o=t??{},i=o.leading,a=i===void 0?!0:i,s=o.trailing,c=s===void 0?!1:s,u=!1,l=null,f=null,d=!1,h=function(){f?.unsubscribe(),f=null,c&&(m(),d&&n.complete())},v=function(){f=null,d&&n.complete()},y=function(p){return f=Y(e(p)).subscribe(z(n,h,v))},m=function(){if(u){u=!1;var p=l;l=null,n.next(p),!d&&y(p)}};r.subscribe(z(n,function(p){u=!0,l=p,!(f&&!f.closed)&&(a?m():y(p))},function(){d=!0,!(c&&u&&f&&!f.closed)&&n.complete()}))})}function Ys(e,t,r){t===void 0&&(t=et);var n=Ti(e,t);return zs(function(){return n},r)}var Xs=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],Qs=["type"],Zs=["svg","path","g"],Js=["password","hidden"],ec=128,tc=1024;function rc(e){var t,r,n,o,i,a;if(e===null)return null;var s=String(e.tagName).toLowerCase(),c={tag:s},u=Array.from((o=(n=e.parentElement)===null||n===void 0?void 0:n.children)!==null&&o!==void 0?o:[]);u.length&&(c.index=u.indexOf(e),c.indexOfType=u.filter(function(_){return _.tagName===e.tagName}).indexOf(e));var l=(a=(i=e.previousElementSibling)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase();l&&(c.prevSib=String(l));var f=e.getAttribute("id");f&&(c.id=String(f));var d=Array.from(e.classList);d.length&&(c.classes=d);var h={},v=Array.from(e.attributes),y=v.filter(function(_){return!Xs.includes(_.name)}),m=!Ai(e);if(!Js.includes(String(e.getAttribute("type")))&&!Zs.includes(s))try{for(var p=ie(y),g=p.next();!g.done;g=p.next()){var b=g.value;m&&!Qs.includes(b.name)||(h[b.name]=String(b.value).substring(0,ec))}}catch(_){t={error:_}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return Object.keys(h).length&&(c.attrs=h),c}function nc(e){var t=[];if(!e)return t;t.push(e);for(var r=e.parentElement;r&&r.tagName!=="HTML";)t.push(r),r=r.parentElement;return t}var ic=function(e){var t=[];if(!e)return[];var r=nc(e);return t=oc(r.map(function(n){return rc(n)}),tc),t};function oc(e,t){for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o===null)r+=4;else{var i=pt(o);r+=i?Array.from(i).length:4}if(r>t)return e.slice(0,n)}return e}function pt(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var r=e.map(function(i){return pt(i,!0)});return"[".concat(r.join(", "),"]")}else if(typeof e=="object"){var n=Object.entries(e).filter(function(i){var a=ne(i,1),s=a[0];return s!=null}).map(function(i){var a=ne(i,2),s=a[0],c=a[1];return"".concat(String(pt(s,!0)),": ").concat(String(pt(c,!0)))}),o="{".concat(n.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return e.toString()}catch{return null}}var ac=["input","select","textarea"],Si=function(e,t){var r,n=(r=window?.getComputedStyle)===null||r===void 0?void 0:r.call(window,e);return n?.getPropertyValue("cursor")==="pointer"&&t==="click"},ze=function(e,t,r){return r===void 0&&(r=!1),function(n,o){var i,a,s=e.pageUrlAllowlist,c=e.shouldTrackEventResolver,u=(a=(i=o?.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||a===void 0?void 0:a.call(i);if(!u)return!1;if(c)return c(n,o);if(!Ho(window.location.href,s))return!1;var l=String(o?.getAttribute("type"))||"";if(typeof l=="string")switch(l.toLowerCase()){case"hidden":return!1;case"password":return!1}var f=Si(o,n);if(r&&f)return!0;if(t){var d=t.some(function(h){var v;return!!(!((v=o?.matches)===null||v===void 0)&&v.call(o,h))});if(!d)return!1}switch(u){case"input":case"select":case"textarea":return n==="change"||n==="click";default:return f?!0:n==="click"}}},Ii=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var r=/(^\d{3}-?\d{2}-?\d{4}$)/;if(r.test(e))return!1}return!0},uc=function(e){return!!e&&e.nodeType===3},Ai=function(e){var t,r,n,o=(r=(t=e?.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||r===void 0?void 0:r.call(t),i=e instanceof HTMLElement?((n=e.getAttribute("contenteditable"))===null||n===void 0?void 0:n.toLowerCase())==="true":!1;return!ac.includes(o)&&!i},yr=function(e){var t="";return Ai(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(r){var n="";uc(r)?r.textContent&&(n=r.textContent):n=yr(r),t+=n.split(/(\s+)/).filter(Ii).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},sc=function(e,t){return e.getAttributeNames().reduce(function(r,n){if(n.startsWith(t)){var o=n.replace(t,""),i=e.getAttribute(n);o&&(r[o]=i||"")}return r},{})},cc=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},ki=function(e){return Object.keys(e).reduce(function(t,r){var n=e[r];return cc(n)||(t[r]=n),t},{})},Pi=function(e){var t=e.parentElement;if(!t)return"";var r;try{r=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{r=null}if(r){var n=r.textContent||"";return Ii(n)?n:""}return Pi(t)},mr=function(e,t){return e?t.some(function(r){var n;return(n=e?.matches)===null||n===void 0?void 0:n.call(e,r)})?e:mr(e?.parentElement,t):null},lc=function(e){var t,r,n;if(!e)return{};var o=(n=(r=e?.tagName)===null||r===void 0?void 0:r.toLowerCase)===null||n===void 0?void 0:n.call(r),i=(t={},t[Jn]=o,t[ei]=yr(e),t[ti]=window.location.href.split("?")[0],t);return ki(i)},fc=function(e){return new Promise(function(t,r){var n;try{var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.addEventListener("load",function(){t({status:!0})},{once:!0}),o.addEventListener("error",function(){r({status:!1,message:"Failed to load the script ".concat(e)})}),(n=document.head)===null||n===void 0||n.appendChild(o)}catch(i){r(i)}})};function dc(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var rt=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)},Qe=function(e,t,r){var n,o,i,a=(i=(o=t?.tagName)===null||o===void 0?void 0:o.toLowerCase)===null||i===void 0?void 0:i.call(o),s=typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{left:null,top:null},c=t.getAttribute("aria-label"),u=sc(t,r),l=Pi(t),f=(n={},n[Iu]=t.getAttribute("id")||"",n[Au]=t.getAttribute("class"),n[ku]=ic(t),n[Jn]=a,n[ei]=yr(t),n[Cu]=s.left==null?null:Math.round(s.left),n[Ru]=s.top==null?null:Math.round(s.top),n[Ou]=c,n[xu]=u,n[Lu]=l,n[ti]=window.location.href.split("?")[0],n[Du]=typeof document<"u"&&document.title||"",n[Uu]=window.innerHeight,n[Nu]=window.innerWidth,n);return a==="a"&&e==="click"&&t instanceof HTMLAnchorElement&&(f[Pu]=t.href),ki(f)},Re=function(e,t,r,n,o){o===void 0&&(o=!1);var i={event:e,timestamp:Date.now(),type:t};if(vc(i)&&i.event.target!==null){if(o){var a=Si(i.event.target,i.type);if(a)return i.closestTrackedAncestor=i.event.target,i.targetElementProperties=Qe(i.type,i.closestTrackedAncestor,n),i}var s=mr(i.event.target,r);return s&&(i.closestTrackedAncestor=s,i.targetElementProperties=Qe(i.type,s,n)),i}return i};function vc(e){return e.type==="click"||e.type==="change"}var hc=function(e,t){try{if(e.sourceType==="DOM_ELEMENT"){var r=document.documentElement;return e.scope&&t&&(r=t.closest(e.scope)),r&&e.selector?r.querySelector(e.selector):r}}catch{return}},Ci=function(e,t){if(e.sourceType==="DOM_ELEMENT"){var r=hc(e,t);return r?e.elementExtractType==="TEXT"?r.textContent:e.elementExtractType==="ATTRIBUTE"&&e.attribute?r.getAttribute(e.attribute):void 0:void 0}},pc=function(e,t){e.forEach(function(r){if(typeof r!="string"&&r.actionType==="ATTACH_EVENT_PROPERTY"){var n=Ci(r.dataSource,t.closestTrackedAncestor);t.targetElementProperties[r.destinationKey]=n}})},gc="1.9.0",yc=function(){function e(t){var r=t===void 0?{}:t,n=r.origin,o=n===void 0?vt:n,i=this;this.endpoint=vt,this.requestCallbacks={},this.onSelect=function(a){i.notify({action:"element-selected",data:a})},this.onTrack=function(a,s){a==="selector-mode-changed"?i.notify({action:"track-selector-mode-changed",data:s}):a==="selector-moved"&&i.notify({action:"track-selector-moved",data:s})},this.endpoint=o}return e.prototype.notify=function(t){var r,n,o,i;(n=(r=this.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,"Message sent: ",JSON.stringify(t)),(i=(o=window.opener)===null||o===void 0?void 0:o.postMessage)===null||i===void 0||i.call(o,t,this.endpoint)},e.prototype.sendRequest=function(t,r,n){var o=this;n===void 0&&(n={timeout:15e3});var i=dc(),a={id:i,action:t,args:r},s=new Promise(function(c,u){o.requestCallbacks[i]={resolve:c,reject:u},o.notify(a),n?.timeout>0&&setTimeout(function(){u(new Error("".concat(t," timed out (id: ").concat(i,")"))),delete o.requestCallbacks[i]},n.timeout)});return s},e.prototype.handleResponse=function(t){var r;if(!this.requestCallbacks[t.id]){(r=this.logger)===null||r===void 0||r.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var r=this,n=t===void 0?{}:t,o=n.logger,i=n.endpoint,a=n.isElementSelectable,s=n.cssSelectorAllowlist,c=n.actionClickAllowlist;this.logger=o,i&&this.endpoint===vt&&(this.endpoint=i);var u=null;window.addEventListener("message",function(l){var f,d,h,v,y;if((d=(f=r.logger)===null||f===void 0?void 0:f.debug)===null||d===void 0||d.call(f,"Message received: ",JSON.stringify(l)),r.endpoint===l.origin){var m=l?.data,p=m?.action;if(p)if("id"in m)(v=(h=r.logger)===null||h===void 0?void 0:h.debug)===null||v===void 0||v.call(h,"Received Response to previous request: ",JSON.stringify(l)),r.handleResponse(m);else if(p==="ping")r.notify({action:"pong"});else if(p==="initialize-visual-tagging-selector"){var g=m?.data;fc(ju).then(function(){var b;u=(b=window?.amplitudeVisualTaggingSelector)===null||b===void 0?void 0:b.call(window,{getEventTagProps:lc,isElementSelectable:function(_){return a?a(g?.actionType||"click",_):!0},onTrack:r.onTrack,onSelect:r.onSelect,visualHighlightClass:$u,messenger:r,cssSelectorAllowlist:s,actionClickAllowlist:c,extractDataFromDataSource:Ci,diagnostics:{autocapture:{version:gc}}}),r.notify({action:"selector-loaded"})}).catch(function(){var b;(b=r.logger)===null||b===void 0||b.warn("Failed to initialize visual tagging selector")})}else p==="close-visual-tagging-selector"&&((y=u?.close)===null||y===void 0||y.call(u))}}),this.notify({action:"page-loaded"})},e}(),mc=5;function bc(e){var t=e.amplitude,r=e.allObservables,n=e.options,o=e.shouldTrackEvent,i=e.evaluateTriggers,a=r.clickObservable,s=a.pipe(Hs(),X(function(f){var d=ne(f,2),h=d[0],v=d[1],y=h.event.target!==v.event.target,m=Math.abs(v.event.screenX-h.event.screenX)<=20&&Math.abs(v.event.screenY-h.event.screenY)<=20;return y&&!m})),c=a.pipe(Vs(n.debounceTime),G(function(){return"timeout"})),u=pr(s,c),l=a.pipe(Ws(0),X(rt),X(function(f){return o("click",f.closestTrackedAncestor)}),G(function(f){return i(f)}),$s(u));return l.subscribe(function(f){var d,h,v=(f.length>=mc,Zt);try{for(var y=ie(f),m=y.next();!m.done;m=y.next()){var p=m.value;t?.track(v,p.targetElementProperties)}}catch(g){d={error:g}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}})}function Ec(e){var t=e.amplitude,r=e.allObservables,n=e.getEventProperties,o=e.shouldTrackEvent,i=e.evaluateTriggers,a=r.changeObservable,s=a.pipe(X(rt),X(function(c){return o("change",c.closestTrackedAncestor)}),G(function(c){return i(c)}));return s.subscribe(function(c){t?.track(Su,n("change",c.closestTrackedAncestor))})}function _c(e){var t=e.amplitude,r=e.allObservables,n=e.options,o=e.getEventProperties,i=e.shouldTrackEvent,a=e.shouldTrackActionClick,s=r.clickObservable,c=r.mutationObservable,u=r.navigateObservable,l=s.pipe(X(function(v){return!i("click",v.closestTrackedAncestor)}),G(function(v){var y=mr(v.event.target,n.actionClickAllowlist);return v.closestTrackedAncestor=y,v.closestTrackedAncestor!==null&&(v.targetElementProperties=o(v.type,v.closestTrackedAncestor)),v}),X(rt),X(function(v){return a("click",v.closestTrackedAncestor)})),f=[c];u&&f.push(u);var d=pr.apply(void 0,se([],ne(f),!1)),h=l.pipe(Ks(function(v){return d.pipe(gr(1),Ss({first:500,with:function(){return vr}}),G(function(){return v}))}));return h.subscribe(function(v){t?.track(Zt,o("click",v.closestTrackedAncestor))})}var Ri=function(){return new V(function(e){var t=new MutationObserver(function(r){e.next(r)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}})},Oi=function(e){return e===void 0&&(e="click"),Ge(document,e,{capture:!0})},wc=function(e,t){try{if(t.subprop_key==="[Amplitude] Element Text")return t.subprop_op==="is"&&t.subprop_value.includes(e.targetElementProperties["[Amplitude] Element Text"]);if(t.subprop_key==="[Amplitude] Element Hierarchy")return t.subprop_op==="autotrack css match"&&!!e.closestTrackedAncestor.closest(t.subprop_value.toString())}catch(r){return console.error("Error matching event to filter",r),!1}return!1},tr={"[Amplitude] Element Clicked":"click","[Amplitude] Element Changed":"change"},yn=function(e){var t,r,n,o,i=Object.values(tr).reduce(function(h,v){return h[v]=new Set,h},{});if(!e)return i;try{for(var a=ie(e),s=a.next();!s.done;s=a.next()){var c=s.value;try{try{for(var u=(n=void 0,ie(c.definition)),l=u.next();!l.done;l=u.next()){var f=l.value,d=tr[f.event_type];d&&i[d].add(c.id)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}catch(h){console.warn("Skipping Labeled Event due to malformed definition",c?.id,h)}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},mn=function(e){var t,r,n,o,i=new Map;try{for(var a=ie(e),s=a.next();!s.done;s=a.next()){var c=s.value;try{for(var u=(n=void 0,ie(c.conditions)),l=u.next();!l.done;l=u.next()){var f=l.value;if(f.type==="LABELED_EVENT"){var d=f.match.eventId,h=i.get(d);h||(h=[],i.set(d,h)),h.push(c)}}}catch(v){n={error:v}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},Tc=function(e,t){return t.filter(function(r){return r.definition.some(function(n){return tr[n.event_type]===e.type&&n.filters.every(function(o){return wc(e,o)})})})},Sc=function(e,t){var r,n,o,i,a=new Set;try{for(var s=ie(e),c=s.next();!c.done;c=s.next()){var u=c.value,l=t.get(u.id);if(l)try{for(var f=(o=void 0,ie(l)),d=f.next();!d.done;d=f.next()){var h=d.value;a.add(h)}}catch(v){o={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return Array.from(a)},Ic=function(){function e(t,r,n){this.groupedLabeledEvents=t,this.labeledEventToTriggerMap=r,this.options=n}return e.prototype.evaluate=function(t){var r,n,o=this.options.pageActions;if(!o)return t;var i=Tc(t,Array.from(this.groupedLabeledEvents[t.type]).map(function(l){return o.labeledEvents[l]})),a=Sc(i,this.labeledEventToTriggerMap);try{for(var s=ie(a),c=s.next();!c.done;c=s.next()){var u=c.value;pc(u.actions,t)}}catch(l){r={error:l}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return t},e.prototype.update=function(t,r,n){this.groupedLabeledEvents=t,this.labeledEventToTriggerMap=r,this.options=n},e}(),Ac=function(e,t,r){return new Ic(e,t,r)},de;(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(de||(de={}));var kc=function(e){var t,r,n,o,i,a,s;e===void 0&&(e={});var c=e.dataAttributePrefix,u=c===void 0?Fn:c,l=e.visualTaggingOptions,f=l===void 0?{enabled:!0,messenger:new yc}:l;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:Zo,e.actionClickAllowlist=(r=e.actionClickAllowlist)!==null&&r!==void 0?r:Jo,e.debounceTime=(n=e.debounceTime)!==null&&n!==void 0?n:0;var d=Eu,h="enrichment",v=[],y=function(){var E,S=Oi().pipe(G(function(L){return Re(L,"click",e.cssSelectorAllowlist,u)}),Ce()),A=Ge(document,"change",{capture:!0}).pipe(G(function(L){return Re(L,"change",e.cssSelectorAllowlist,u)}),Ce()),M;window.navigation&&(M=Ge(window.navigation,"navigate").pipe(G(function(L){return Re(L,"navigate",e.cssSelectorAllowlist,u)}),Ce()));var F=Ri().pipe(G(function(L){return Re(L,"mutation",e.cssSelectorAllowlist,u)}),Ce());return E={},E[de.ClickObservable]=S,E[de.ChangeObservable]=A,E[de.NavigateObservable]=M,E[de.MutationObservable]=F,E},m=yn(Object.values((i=(o=e.pageActions)===null||o===void 0?void 0:o.labeledEvents)!==null&&i!==void 0?i:{})),p=mn((s=(a=e.pageActions)===null||a===void 0?void 0:a.triggers)!==null&&s!==void 0?s:[]),g=Ac(m,p,e),b=function(E){var S,A;E&&(e.pageActions=ce(ce({},e.pageActions),E),m=yn(Object.values((S=e.pageActions.labeledEvents)!==null&&S!==void 0?S:{})),p=mn((A=e.pageActions.triggers)!==null&&A!==void 0?A:[]),g.update(m,p,e))},_=function(E,S){return Z(void 0,void 0,void 0,function(){var A,M,F,L,re,oe,ae,ue,pe,ge;return J(this,function(Ie){return typeof document>"u"?[2]:(E.fetchRemoteConfig&&bu({localConfig:E,configKeys:["analyticsSDK.pageActions"]}).then(function(W){return Z(void 0,void 0,void 0,function(){var w,xe,Ae;return J(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,2,,3]),[4,W.getRemoteConfig("analyticsSDK","pageActions")];case 1:return w=ye.sent(),b(w),[3,3];case 2:return xe=ye.sent(),(Ae=E?.loggerProvider)===null||Ae===void 0||Ae.error("Failed to fetch remote config: ".concat(String(xe))),[3,3];case 3:return[2]}})})}).catch(function(W){var w;(w=E?.loggerProvider)===null||w===void 0||w.error("Failed to create remote config fetch: ".concat(String(W)))}),A=ze(e,e.cssSelectorAllowlist),M=ze(e,e.actionClickAllowlist),F=y(),L=bc({allObservables:F,options:e,amplitude:S,shouldTrackEvent:A,evaluateTriggers:g.evaluate.bind(g)}),v.push(L),re=Ec({allObservables:F,getEventProperties:function(){for(var W=[],w=0;w<arguments.length;w++)W[w]=arguments[w];return Qe.apply(void 0,se(se([],ne(W),!1),[u],!1))},amplitude:S,shouldTrackEvent:A,evaluateTriggers:g.evaluate.bind(g)}),v.push(re),oe=_c({allObservables:F,options:e,getEventProperties:function(){for(var W=[],w=0;w<arguments.length;w++)W[w]=arguments[w];return Qe.apply(void 0,se(se([],ne(W),!1),[u],!1))},amplitude:S,shouldTrackEvent:A,shouldTrackActionClick:M}),v.push(oe),(pe=E?.loggerProvider)===null||pe===void 0||pe.log("".concat(d," has been successfully added.")),window.opener&&f.enabled&&(ae=e.cssSelectorAllowlist,ue=e.actionClickAllowlist,(ge=f.messenger)===null||ge===void 0||ge.setup(ce(ce({logger:E?.loggerProvider},E?.serverZone&&{endpoint:qu[E.serverZone]}),{isElementSelectable:ze(e,se(se([],ne(ae),!1),ne(ue),!1)),cssSelectorAllowlist:ae,actionClickAllowlist:ue}))),[2])})})},T=function(E){return Z(void 0,void 0,void 0,function(){return J(this,function(S){return[2,E]})})},I=function(){return Z(void 0,void 0,void 0,function(){var E,S,A,M,F;return J(this,function(L){try{for(E=ie(v),S=E.next();!S.done;S=E.next())A=S.value,A.unsubscribe()}catch(re){M={error:re}}finally{try{S&&!S.done&&(F=E.return)&&F.call(E)}finally{if(M)throw M.error}}return[2]})})};return{name:d,type:h,setup:_,execute:T,teardown:I}},bn=3e3;function Pc(e){var t=e.amplitude,r=e.allObservables,n=e.getEventProperties,o=e.shouldTrackDeadClick,i=r.clickObservable,a=r.mutationObservable,s=r.navigateObservable,c=i.pipe(X(rt),X(function(d){return o("click",d.closestTrackedAncestor)})),u=[a];s&&u.push(s);var l=pr.apply(void 0,se([],ne(u),!1)),f=c.pipe(tt(function(d){var h,v=new V(function(y){return h=setTimeout(function(){return y.next(d)},bn),function(){clearTimeout(h)}});return qs(v,l.pipe(gr(1),G(function(){return null}))).pipe(X(function(y){return y!==null}))}),Ys(bn));return f.subscribe(function(d){var h={"[Amplitude] X":d.event.clientX,"[Amplitude] Y":d.event.clientY};t.track(wu,ce(ce({},n("click",d.closestTrackedAncestor)),h),{time:d.timestamp})})}var Cc=ia,Rc=na;function Oc(e){var t=e.amplitude,r=e.allObservables,n=e.shouldTrackRageClick,o=r.clickObservable,i=[];return o.pipe(X(rt),X(function(a){return n("click",a.closestTrackedAncestor)}),G(function(a){var s=a.timestamp;i.length>0&&i[i.length-1].closestTrackedAncestor!==a.closestTrackedAncestor&&i.splice(0,i.length);for(var c=0;c<i.length&&!(s-i[c].timestamp<Rc);c++);if(i.splice(0,c),i.push(a),i.length<Cc)return null;var u=i[0],l=i[i.length-1],f=ce({"[Amplitude] Begin Time":new Date(u.timestamp).toISOString(),"[Amplitude] End Time":new Date(l.timestamp).toISOString(),"[Amplitude] Duration":l.timestamp-u.timestamp,"[Amplitude] Clicks":i.map(function(d){return{X:d.event.clientX,Y:d.event.clientY,Time:d.timestamp}}),"[Amplitude] Click Count":i.length},u.targetElementProperties);return i.splice(0,i.length),{rageClickEvent:f,time:u.timestamp}}),X(function(a){return a!==null})).subscribe(function(a){a!==null&&t.track(Tu,a.rageClickEvent,{time:a.time})})}var xc=function(e){var t,r,n,o,i;e===void 0&&(e={});var a=_u,s="enrichment",c=[],u=(r=(t=e.rageClicks)===null||t===void 0?void 0:t.cssSelectorAllowlist)!==null&&r!==void 0?r:ra,l=(o=(n=e.deadClicks)===null||n===void 0?void 0:n.cssSelectorAllowlist)!==null&&o!==void 0?o:ta,f=(i=e.dataAttributePrefix)!==null&&i!==void 0?i:Fn,d=se([],ne(new Set(se(se([],ne(u),!1),ne(l),!1))),!1),h=function(){var p,g=Oi("pointerdown").pipe(G(function(T){return Re(T,"click",d,f,!0)}),Ce()),b;window.navigation&&(b=Ge(window.navigation,"navigate").pipe(G(function(T){return Re(T,"navigate",d,f)}),Ce()));var _=Ri().pipe(G(function(T){return Re(T,"mutation",d,f)}),Ce());return p={},p[de.ClickObservable]=g,p[de.ChangeObservable]=new V,p[de.NavigateObservable]=b,p[de.MutationObservable]=_,p},v=function(p,g){return Z(void 0,void 0,void 0,function(){var b,_,T,I,E,S;return J(this,function(A){return typeof document>"u"?[2]:(b=ze(e,u),_=ze(e,l),T=h(),I=Oc({allObservables:T,amplitude:g,shouldTrackRageClick:b}),c.push(I),E=Pc({amplitude:g,allObservables:T,getEventProperties:function(M,F){return Qe(M,F,f)},shouldTrackDeadClick:_}),c.push(E),(S=p?.loggerProvider)===null||S===void 0||S.log("".concat(a," has been successfully added.")),[2])})})},y=function(p){return Z(void 0,void 0,void 0,function(){return J(this,function(g){return[2,p]})})},m=function(){return Z(void 0,void 0,void 0,function(){var p,g,b,_,T;return J(this,function(I){try{for(p=ie(c),g=p.next();!g.done;g=p.next())b=g.value,b.unsubscribe()}catch(E){_={error:E}}finally{try{g&&!g.done&&(T=p.return)&&T.call(p)}finally{if(_)throw _.error}}return[2]})})};return{name:a,type:s,setup:v,execute:y,teardown:m}};function $t(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function Vt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function xi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Lc(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Dc="@amplitude/plugin-network-capture-browser",Di="[Amplitude] Network Request",Ui="500-599";function gt(e,t){var r=t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),n="^"+r.replace(/\*/g,".*")+"$",o=new RegExp(n);return o.test(e)}function Ni(e,t){var r,n,o=t.split(",");try{for(var i=xi(o),a=i.next();!a.done;a=i.next()){var s=a.value,c=Li(s.split("-").map(Number),2),u=c[0],l=c[1];if(e===u&&l===void 0||e>=u&&e<=l)return!0}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function Uc(e,t,r){if(!(e.hosts&&!e.hosts.find(function(o){return gt(t,o)}))){if(r||r===0){var n=e.statusCodeRange||Ui;if(!Ni(r,n))return!1}return!0}}function Mi(e){var t;if(e)try{var r=(t=B())===null||t===void 0?void 0:t.location.href,n=new URL(e,r),o=n.searchParams.toString(),i=n.hash.replace("#",""),a=n.href,s=n.host;n.hash="",n.search="";var c=n.href;return{query:o,fragment:i,href:a,hrefWithoutQueryOrHash:c,host:s}}catch{return}}function Nc(e,t){if(e.includes("amplitude.com"))try{var r=t.body;if(typeof r!="string")return!1;var n=JSON.parse(r),o=n.events;if(o.find(function(i){return i.event_type===Di}))return!0}catch{}return!1}function Mc(e,t){var r;t===void 0&&(t={});var n=Mi(e.url);if(!n)return!1;var o=n.host;if(t.ignoreAmplitudeRequests!==!1&&(gt(o,"*.amplitude.com")||gt(o,"amplitude.com"))||!((r=t.ignoreHosts)===null||r===void 0)&&r.find(function(a){return gt(o,a)})||!t.captureRules&&e.status!==void 0&&!Ni(e.status,Ui))return!1;if(t.captureRules){var i;if(Lc([],Li(t.captureRules),!1).reverse().find(function(a){return i=Uc(a,o,e.status),i!==void 0}),!i)return!1}return!(e.requestWrapper&&Nc(o,e.requestWrapper))}function Fc(e){var t=e.allObservables,r=e.networkTrackingOptions,n=e.amplitude,o=t.networkObservable,i=o.pipe(X(function(a){return Mc(a.event,r)}));return i.subscribe(function(a){var s,c,u,l=a.event,f=Mi(l.url);if(f){var d=(c=l.responseWrapper)===null||c===void 0?void 0:c.bodySize,h=(u=l.requestWrapper)===null||u===void 0?void 0:u.bodySize,v=(s={},s["[Amplitude] URL"]=f.hrefWithoutQueryOrHash,s["[Amplitude] URL Query"]=f.query,s["[Amplitude] URL Fragment"]=f.fragment,s["[Amplitude] Request Method"]=l.method,s["[Amplitude] Status Code"]=l.status,s["[Amplitude] Start Time"]=l.startTime,s["[Amplitude] Completion Time"]=l.endTime,s["[Amplitude] Duration"]=l.duration,s["[Amplitude] Request Body Size"]=h,s["[Amplitude] Response Body Size"]=d,s["[Amplitude] Request Type"]=l.type,s);n?.track(Di,v)}})}var rr;(function(e){e.NetworkObservable="networkObservable"})(rr||(rr={}));var qc=function(e){e===void 0&&(e={});var t=Dc,r="enrichment",n,o=[],i=function(l,f){var d={event:l,timestamp:Date.now(),type:f};return d},a=function(){var l,f=new V(function(d){var h=new da(function(v){var y=i(v,"network");d.next(y)});return Fr.subscribe(h,n),function(){Fr.unsubscribe(h)}});return l={},l[rr.NetworkObservable]=f,l},s=function(l,f){return $t(void 0,void 0,void 0,function(){var d,h;return Vt(this,function(v){return typeof document>"u"?[2]:(d=a(),h=Fc({allObservables:d,networkTrackingOptions:e,amplitude:f}),o.push(h),n=l?.loggerProvider,n?.log("".concat(t," has been successfully added.")),[2])})})},c=function(l){return $t(void 0,void 0,void 0,function(){return Vt(this,function(f){return[2,l]})})},u=function(){return $t(void 0,void 0,void 0,function(){var l,f,d,h,v;return Vt(this,function(y){try{for(l=xi(o),f=l.next();!f.done;f=l.next())d=f.value,d.unsubscribe()}catch(m){h={error:m}}finally{try{f&&!f.done&&(v=l.return)&&v.call(l)}finally{if(h)throw h.error}}return[2]})})};return{name:t,type:r,setup:s,execute:c,teardown:u}};function Gt(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function Bt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jc="web-vitals-browser",$c="[Amplitude] Web Vitals";let Fi=-1;const We=e=>{addEventListener("pageshow",t=>{t.persisted&&(Fi=t.timeStamp,e(t))},!0)},ve=(e,t,r,n)=>{let o,i;return a=>{t.value>=0&&(a||n)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=((s,c)=>s>c[1]?"poor":s>c[0]?"needs-improvement":"good")(t.value,r),e(t)))}},br=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},Er=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},nt=()=>Er()?.activationStart??0,he=(e,t=-1)=>{const r=Er();let n="navigate";return Fi>=0?n="back-forward-cache":r&&(document.prerendering||nt()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},Wt=new WeakMap;function _r(e,t){return Wt.get(e)||Wt.set(e,new t),Wt.get(e)}class Vc{t;i=0;o=[];h(t){if(t.hadRecentInput)return;const r=this.o[0],n=this.o.at(-1);this.i&&r&&n&&t.startTime-n.startTime<1e3&&t.startTime-r.startTime<5e3?(this.i+=t.value,this.o.push(t)):(this.i=t.value,this.o=[t]),this.t?.(t)}}const it=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return n.observe({type:e,buffered:!0,...r}),n}}catch{}},wr=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Fe=-1;const qi=new Set,En=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,nr=e=>{if(document.visibilityState==="hidden"){if(e.type==="visibilitychange")for(const t of qi)t();isFinite(Fe)||(Fe=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("prerenderingchange",nr,!0))}},St=()=>{if(Fe<0){const e=nt();Fe=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>e)[0]?.startTime)??En(),addEventListener("visibilitychange",nr,!0),addEventListener("prerenderingchange",nr,!0),We(()=>{setTimeout(()=>{Fe=En()})})}return{get firstHiddenTime(){return Fe},onHidden(e){qi.add(e)}}},It=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},_n=[1800,3e3],ji=(e,t={})=>{It(()=>{const r=St();let n,o=he("FCP");const i=it("paint",a=>{for(const s of a)s.name==="first-contentful-paint"&&(i.disconnect(),s.startTime<r.firstHiddenTime&&(o.value=Math.max(s.startTime-nt(),0),o.entries.push(s),n(!0)))});i&&(n=ve(e,o,_n,t.reportAllChanges),We(a=>{o=he("FCP"),n=ve(e,o,_n,t.reportAllChanges),br(()=>{o.value=performance.now()-a.timeStamp,n(!0)})}))})},wn=[.1,.25],Gc=(e,t={})=>{const r=St();ji(wr(()=>{let n,o=he("CLS",0);const i=_r(t,Vc),a=c=>{for(const u of c)i.h(u);i.i>o.value&&(o.value=i.i,o.entries=i.o,n())},s=it("layout-shift",a);s&&(n=ve(e,o,wn,t.reportAllChanges),r.onHidden(()=>{a(s.takeRecords()),n(!0)}),We(()=>{i.i=0,o=he("CLS",0),n=ve(e,o,wn,t.reportAllChanges),br(()=>n())}),setTimeout(n))}))};let $i=0,Ht=1/0,ct=0;const Bc=e=>{for(const t of e)t.interactionId&&(Ht=Math.min(Ht,t.interactionId),ct=Math.max(ct,t.interactionId),$i=ct?(ct-Ht)/7+1:0)};let ir;const Tn=()=>ir?$i:performance.interactionCount??0,Wc=()=>{"interactionCount"in performance||ir||(ir=it("event",Bc,{type:"event",buffered:!0,durationThreshold:0}))};let Sn=0;class Hc{u=[];l=new Map;m;p;v(){Sn=Tn(),this.u.length=0,this.l.clear()}L(){const t=Math.min(this.u.length-1,Math.floor((Tn()-Sn)/50));return this.u[t]}h(t){if(this.m?.(t),!t.interactionId&&t.entryType!=="first-input")return;const r=this.u.at(-1);let n=this.l.get(t.interactionId);if(n||this.u.length<10||t.duration>r.P){if(n?t.duration>n.P?(n.entries=[t],n.P=t.duration):t.duration===n.P&&t.startTime===n.entries[0].startTime&&n.entries.push(t):(n={id:t.interactionId,entries:[t],P:t.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort((o,i)=>i.P-o.P),this.u.length>10){const o=this.u.splice(10);for(const i of o)this.l.delete(i.id)}this.p?.(n)}}}const Vi=e=>{const t=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?e():(e=wr(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},In=[200,500],Kc=(e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=St();It(()=>{Wc();let n,o=he("INP");const i=_r(t,Hc),a=c=>{Vi(()=>{for(const l of c)i.h(l);const u=i.L();u&&u.P!==o.value&&(o.value=u.P,o.entries=u.entries,n())})},s=it("event",a,{durationThreshold:t.durationThreshold??40});n=ve(e,o,In,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),r.onHidden(()=>{a(s.takeRecords()),n(!0)}),We(()=>{i.v(),o=he("INP"),n=ve(e,o,In,t.reportAllChanges)}))})};class zc{m;h(t){this.m?.(t)}}const An=[2500,4e3],Yc=(e,t={})=>{It(()=>{const r=St();let n,o=he("LCP");const i=_r(t,zc),a=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i.h(u),u.startTime<r.firstHiddenTime&&(o.value=Math.max(u.startTime-nt(),0),o.entries=[u],n())},s=it("largest-contentful-paint",a);if(s){n=ve(e,o,An,t.reportAllChanges);const c=wr(()=>{a(s.takeRecords()),s.disconnect(),n(!0)}),u=l=>{l.isTrusted&&(Vi(c),removeEventListener(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])addEventListener(l,u,{capture:!0});We(l=>{o=he("LCP"),n=ve(e,o,An,t.reportAllChanges),br(()=>{o.value=performance.now()-l.timeStamp,n(!0)})})}})},kn=[800,1800],or=e=>{document.prerendering?It(()=>or(e)):document.readyState!=="complete"?addEventListener("load",()=>or(e),!0):setTimeout(e)},Xc=(e,t={})=>{let r=he("TTFB"),n=ve(e,r,kn,t.reportAllChanges);or(()=>{const o=Er();o&&(r.value=Math.max(o.responseStart-nt(),0),r.entries=[o],n(!0),We(()=>{r=he("TTFB",0),n=ve(e,r,kn,t.reportAllChanges),n(!0)}))})};function Qc(e){var t,r=((t=e.entries[0])===null||t===void 0?void 0:t.startTime)||0;return performance.timeOrigin+r}function Ke(e){return{value:e.value,rating:e.rating,delta:e.delta,navigationType:e.navigationType,id:e.id,timestamp:Math.floor(Qc(e)),navigationStart:Math.floor(performance.timeOrigin)}}var Zc=function(){var e=null,t=B(),r=t?.document,n=t?.location,o=function(s,c){return Gt(void 0,void 0,void 0,function(){var u,l,f;return Bt(this,function(d){return u=function(h){var v;if(!h)return"";var y=h;try{y=decodeURI(h)}catch(m){(v=s.loggerProvider)===null||v===void 0||v.error("Malformed URI sequence: ",m)}return y},r===void 0?[2]:(l=u(n?.href),f={"[Amplitude] Page Domain":n?.hostname||"","[Amplitude] Page Location":l,"[Amplitude] Page Path":u(n?.pathname),"[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":l.split("?")[0]},Yc(function(h){f["[Amplitude] LCP"]=Ke(h)}),ji(function(h){f["[Amplitude] FCP"]=Ke(h)}),Kc(function(h){f["[Amplitude] INP"]=Ke(h)}),Gc(function(h){f["[Amplitude] CLS"]=Ke(h)}),Xc(function(h){f["[Amplitude] TTFB"]=Ke(h)}),e=function(){r.visibilityState==="hidden"&&e&&(c.track($c,f),r.removeEventListener("visibilitychange",e),e=null)},r.addEventListener("visibilitychange",e),[2])})})},i=function(s){return Gt(void 0,void 0,void 0,function(){return Bt(this,function(c){return[2,s]})})},a=function(){return Gt(void 0,void 0,void 0,function(){return Bt(this,function(s){return e&&r?.removeEventListener("visibilitychange",e),[2]})})};return{name:jc,type:"enrichment",setup:o,execute:i,teardown:a}},Pn=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},Jc=function(e){return Object.values(e).every(function(t){return!t})},el=function(e,t,r,n,o){o===void 0&&(o=!0),e.referrer;var i=e.referring_domain,a=qr(e,["referrer","referring_domain"]),s=t||{};s.referrer;var c=s.referring_domain,u=qr(s,["referrer","referring_domain"]);if(tl(r.excludeReferrers,e.referring_domain))return n.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!o&&Jc(e)&&t)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var l=JSON.stringify(a)!==JSON.stringify(u),f=Pn(i||"")!==Pn(c||""),d=!t||l||f;return d?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),d},tl=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(r){return r instanceof RegExp?r.test(t):r===t})},rl=function(e,t){var r=R(R({},ar),e),n=Object.entries(r).reduce(function(o,i){var a,s=cr(i,2),c=s[0],u=s[1];return o.setOnce("initial_".concat(c),(a=u??t.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),u?o.set(c,u):o.unset(c)},new yt);return xn(n)},nl=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},il=function(){function e(t,r){var n;this.shouldTrackNewCampaign=!1,this.options=R({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:nl((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},t),this.storage=r.cookieStorage,this.storageKey=Yo(r.apiKey,"MKTG"),this.currentCampaign=ar,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,this.logger=r.loggerProvider,r.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return j(this,void 0,void 0,function(){var t,r;return $(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=cr.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],t=this.lastEventTime?Un(this.sessionTimeout,this.lastEventTime):!0,el(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return j(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return[4,Promise.all([new ha().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var r=rl(this.currentCampaign,this.options);return t&&(r.event_id=t),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),ol=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,o){r===void 0&&(r="");var i,a;return arguments.length>2?(i=n,a=o):typeof n=="string"?(i=n,a=void 0):(i=n?.userId,a=n),Q(this._init(R(R({},a),{userId:i,apiKey:r})))},t.prototype._init=function(r){var n,o,i;return j(this,void 0,void 0,function(){var a,s,c,u,l,f,d,h=this;return $(this,function(v){switch(v.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,$a(r.apiKey,r,this)]);case 1:return a=v.sent(),a.fetchRemoteConfig?(this.remoteConfigClient=new To(a.apiKey,a.loggerProvider,a.serverZone),[4,new Promise(function(y){var m;(m=h.remoteConfigClient)===null||m===void 0||m.subscribe("configs.analyticsSDK.browserSDK","all",function(p,g,b){a.loggerProvider.debug("Remote configuration received:",JSON.stringify({remoteConfig:p,source:g,lastFetch:b},null,2)),p&&cu(p,a),y()})})]):[3,3];case 2:v.sent(),v.label=3;case 3:return[4,e.prototype._init.call(this,a)];case 4:return v.sent(),this.logBrowserOptions(a),Vn(this.config.defaultTracking)?(s=wa(this.config),this.webAttribution=new il(s,this.config),[4,this.webAttribution.init()]):[3,6];case 5:v.sent(),v.label=6;case 6:return c=mt(),u=c.ampTimestamp?Number(c.ampTimestamp):void 0,l=u?Date.now()<u:!0,f=l&&!Number.isNaN(Number(c.ampSessionId))?Number(c.ampSessionId):void 0,this.setSessionId((i=(o=(n=r.sessionId)!==null&&n!==void 0?n:f)!==null&&o!==void 0?o:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),d=Ye(r.instanceName),d.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Qo?[3,8]:[4,this.add(su()).promise];case 7:v.sent(),v.label=8;case 8:return[4,this.add(new Ro).promise];case 9:return v.sent(),[4,this.add(new Aa).promise];case 10:return v.sent(),[4,this.add(new $o).promise];case 11:return v.sent(),uu(this.config),pa(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(au()).promise]):[3,13];case 12:v.sent(),v.label=13;case 13:return ga(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(ou()).promise]):[3,15];case 14:v.sent(),v.label=15;case 15:return Gn(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(tu(_a(this.config))).promise]):[3,17];case 16:v.sent(),v.label=17;case 17:return Wn(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(kc(ma(this.config))).promise]):[3,19];case 18:v.sent(),v.label=19;case 19:return Hn(this.config.autocapture)?(this.config.loggerProvider.debug("Adding frustration interactions plugin"),[4,this.add(xc(ba(this.config))).promise]):[3,21];case 20:v.sent(),v.label=21;case 21:return Bn(this.config.autocapture)?(this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(qc(Ea(this.config))).promise]):[3,23];case 22:v.sent(),v.label=23;case 23:return ya(this.config.autocapture)?(this.config.loggerProvider.debug("Adding web vitals plugin"),[4,this.add(Zc()).promise]):[3,25];case 24:v.sent(),v.label=25;case 25:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 26:return v.sent(),d.eventBridge.setEventReceiver(function(y){h.track(y.eventType,y.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},t.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,this.timeline.onIdentityChanged({userId:r}),qo(r,this.config.instanceName))},t.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},t.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),r!==this.config.deviceId&&(this.config.deviceId=r,this.timeline.onIdentityChanged({deviceId:r}),jo(r,this.config.instanceName))},t.prototype.reset=function(){this.setDeviceId(Te()),this.setUserId(void 0)},t.prototype.getIdentity=function(){var r,n;return{deviceId:(r=this.config)===null||r===void 0?void 0:r.deviceId,userId:(n=this.config)===null||n===void 0?void 0:n.userId,userProperties:this.userProperties}},t.prototype.getOptOut=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.optOut},t.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},t.prototype.setSessionId=function(r){var n,o=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),Q(Promise.resolve());if(r===this.config.sessionId)return Q(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var i=this.getSessionId();i!==r&&this.timeline.onSessionIdChanged(r);var a=this.config.lastEventTime,s=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,jr(this.config.defaultTracking)&&(i&&a&&o.push(this.track(Gr,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:a+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var c=this.trackCampaignEventIfNeeded(++s,o);return jr(this.config.defaultTracking)&&o.push(this.track(Vr,void 0,{event_id:c?++s:s,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Q(Promise.all(o))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Yn(r)},t.prototype.identify=function(r,n){if(Dt(r)){var o=r._q;r._q=[],r=Lt(new yt,o)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,r,n)},t.prototype.groupIdentify=function(r,n,o,i){if(Dt(o)){var a=o._q;o._q=[],o=Lt(new yt,a)}return e.prototype.groupIdentify.call(this,r,n,o,i)},t.prototype.revenue=function(r,n){if(Dt(r)){var o=r._q;r._q=[],r=Lt(new So,o)}return e.prototype.revenue.call(this,r,n)},t.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var o=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(o).promise):this.track(o),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(r){return j(this,void 0,void 0,function(){var n,o,i;return $(this,function(a){return n=Date.now(),o=Un(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==Vr&&r.event_type!==Gr&&(!r.session_id||r.session_id===this.getSessionId())&&(o||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):o||this.trackCampaignEventIfNeeded()),r.event_type===we.IDENTIFY&&r.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(r.user_properties)),[2,e.prototype.process.call(this,r)]})})},t.prototype.logBrowserOptions=function(r){try{var n=R(R({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(o){this.config.loggerProvider.error("Error logging browser config",o)}},t}(yo),al=function(){var e=new ol;return{init:N(e.init.bind(e),"init",D(e),U(e,["config"])),add:N(e.add.bind(e),"add",D(e),U(e,["config.apiKey","timeline.plugins"])),remove:N(e.remove.bind(e),"remove",D(e),U(e,["config.apiKey","timeline.plugins"])),track:N(e.track.bind(e),"track",D(e),U(e,["config.apiKey","timeline.queue.length"])),logEvent:N(e.logEvent.bind(e),"logEvent",D(e),U(e,["config.apiKey","timeline.queue.length"])),identify:N(e.identify.bind(e),"identify",D(e),U(e,["config.apiKey","timeline.queue.length"])),groupIdentify:N(e.groupIdentify.bind(e),"groupIdentify",D(e),U(e,["config.apiKey","timeline.queue.length"])),setGroup:N(e.setGroup.bind(e),"setGroup",D(e),U(e,["config.apiKey","timeline.queue.length"])),revenue:N(e.revenue.bind(e),"revenue",D(e),U(e,["config.apiKey","timeline.queue.length"])),flush:N(e.flush.bind(e),"flush",D(e),U(e,["config.apiKey","timeline.queue.length"])),getUserId:N(e.getUserId.bind(e),"getUserId",D(e),U(e,["config","config.userId"])),setUserId:N(e.setUserId.bind(e),"setUserId",D(e),U(e,["config","config.userId"])),getDeviceId:N(e.getDeviceId.bind(e),"getDeviceId",D(e),U(e,["config","config.deviceId"])),setDeviceId:N(e.setDeviceId.bind(e),"setDeviceId",D(e),U(e,["config","config.deviceId"])),reset:N(e.reset.bind(e),"reset",D(e),U(e,["config","config.userId","config.deviceId"])),getSessionId:N(e.getSessionId.bind(e),"getSessionId",D(e),U(e,["config"])),setSessionId:N(e.setSessionId.bind(e),"setSessionId",D(e),U(e,["config"])),extendSession:N(e.extendSession.bind(e),"extendSession",D(e),U(e,["config"])),setOptOut:N(e.setOptOut.bind(e),"setOptOut",D(e),U(e,["config"])),setTransport:N(e.setTransport.bind(e),"setTransport",D(e),U(e,["config"])),getIdentity:N(e.getIdentity.bind(e),"getIdentity",D(e),U(e,["config"])),getOptOut:N(e.getOptOut.bind(e),"getOptOut",D(e),U(e,["config"]))}};al();export{Fo as A,Ne as I,we as S,yt as a,al as c};
//# sourceMappingURL=analytics-browser-BMyZ1VNG.js.map
E]      i i H\j   i    O^partitionKey=%28https%2Csnyk.io%29,:https://app.snyk.io/bundle/@amplitude/analytics-browser-BMyZ1VNG.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAOQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAg3MIIIMzCCBxugAwIBAgIQAhhYef//V20Q2zS3ExvdcTANBgkqhkiG9w0BAQsFADBgMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR8wHQYDVQQDExZHZW9UcnVzdCBUTFMgUlNBIENBIEcxMB4XDTI1MDkxNjAwMDAwMFoXDTI2MDIwNDIzNTk1OVowQzELMAkGA1UEBhMCR0IxDzANBgNVBAcTBkxvbmRvbjERMA8GA1UEChMIU255ayBMdGQxEDAOBgNVBAMTB3NueWsuaW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCkzp9676BPvYnbl6DFnA3gz+Qu8YT0KjWz9F+A7a5NxXK9wyJOBi6o3vKPzJ7Bn0QwHPmOX5u8hAu7hiHkI6G7VBdkSlxxk6SeevF6X6MmJQZqm/iBExDdKzy0mVklRRt57712g662N0DGmEWPHE6nrF53X20JbvNRWxGHx+dLzxrCEgyWyLk8JeG5dobtNxWrXJGLfFlFzM5xEc2DAhSqDEMK9t7Ux6PsF6mROCTVmcZ4anOng6CCVXRntdryk2MKy0m3tXqq2R+xmydQrKHLUiAq1rVkvsZ4E8QHeMsv5t/UWpjVN9628dC3GnuBL/T4dHNkLZjGCX75jkin94AXAgMBAAGjggUEMIIFADAfBgNVHSMEGDAWgBSUT9Rdi+Sk4qaA/v3Y+QDvo74CVzAdBgNVHQ4EFgQUyGmk5kdgR+t984nNZZSGwobcNLgwggIGBgNVHREEggH9MIIB+YIHc255ay5pb4ILYXBpLnNueWsuaW+CC2FwcC5zbnlrLmlvgg9hcHByaXNrLnNueWsuaW+CDGFzcG0uc255ay5pb4IMYmxvZy5zbnlrLmlvgg5icm9rZXIuc255ay5pb4IPYnJva2VyMi5zbnlrLmlvghFjb2xsZWN0b3Iuc255ay5pb4ITY3AtdGVzdC1hcHAuc255ay5pb4IMZGF0YS5zbnlrLmlvghBkZWVwcm94eS5zbnlrLmlvghNkb2NzLm9ucHJlbS5zbnlrLmlvggxkb2NzLnNueWsuaW+CDGVuc28uc255ay5pb4ILZXZvLnNueWsuaW+CDmhlYWx0aC5zbnlrLmlvggxpbmZvLnNueWsuaW+CDWxlYXJuLnNueWsuaW+CF3BhcnRuZXJ0cmFpbmluZy5zbnlrLmlvggxwb2dvLnNueWsuaW+CEXByb3Zpc2lvbi5zbnlrLmlvghFyZXBvcnRpbmcuc255ay5pb4IRcmVzb3VyY2VzLnNueWsuaW+CEHNlY3VyaXR5LnNueWsuaW+CEHNuaXBwZXRzLnNueWsuaW+CD3N0YWdpbmcuc255ay5pb4IOc3RhdGljLnNueWsuaW+CD3N1cHBvcnQuc255ay5pb4IQdHJhaW5pbmcuc255ay5pb4ILd3d3LnNueWsuaW8wPgYDVR0gBDcwNTAzBgZngQwBAgIwKTAnBggrBgEFBQcCARYbaHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwPwYDVR0fBDgwNjA0oDKgMIYuaHR0cDovL2NkcC5nZW90cnVzdC5jb20vR2VvVHJ1c3RUTFNSU0FDQUcxLmNybDB2BggrBgEFBQcBAQRqMGgwJgYIKwYBBQUHMAGGGmh0dHA6Ly9zdGF0dXMuZ2VvdHJ1c3QuY29tMD4GCCsGAQUFBzAChjJodHRwOi8vY2FjZXJ0cy5nZW90cnVzdC5jb20vR2VvVHJ1c3RUTFNSU0FDQUcxLmNydDAMBgNVHRMBAf8EAjAAMIIBfAYKKwYBBAHWeQIEAgSCAWwEggFoAWYAdgCWl2S/VViXrfdDh2g3CEJ36fA61fak8zZuRqQ/D8qpxgAAAZlSpVBNAAAEAwBHMEUCIQCuzA87D2TLFwRHH1XyhvcbEUtOZTGqlBgMmXYDMl0f6AIgMcVYsz8hcxwOXZ9Y8kxjVlV9TuBg/c1KHu4NTYcQASEAdQBkEcRspBLsp4kcogIuALyrTygH1B41J6vq/tUDyX3N8AAAAZlSpVBJAAAEAwBGMEQCIDvOfQy/zSc0CB6zN7u1yhzeuNteZ8jR/t4VB0hdJohRAiA4q58NDku+lTaI+5hLankRH1M916Dx5CWs1L6m1UbdxAB1AEmcm2neHXzs/DbezYdkprhbrwqHgBnRVVL76esp3fjDAAABmVKlUGgAAAQDAEYwRAIgEkx1EdT+vfc+oMiYSJIROK+rxUhX5IQ5D+RSomYQKDECIBYklmMby6xrUZigwwzRG7MM3WAc4X9nb9Prxo4iUg1vMA0GCSqGSIb3DQEBCwUAA4IBAQAa2/JrWBxgp2GJomotxn7Mh4z1zdGrubSeczY72WYQu+icYG7w9QY668VmvCpj9tmW2Aumkt4mLxQgKG/Fab7tEav2J8b1U04AS2V3ptpCJEFXw41NsAESjIK7+BNNMrET2pXBe+VVbc595BW8peSU0cuGM4qECFbNwOjagty+P7nf3jxcG0fhtOgNncsl3n6dYTpTn9fdqCAYm4VtwT7O2X+szvgj0LiJsDJaAnasMDPS8vpOH7P0j18O53MOpt/s87im55m+gtn6aEpqxRzrcM/TEb/hlqte2GVZIST9EPH4WeBH4s5IldV3mTHYH/Tj6Bo7K+sU6JvvXIJLOFAjEwIABAAAAAAAAQEAAAAAAAAGeDI1NTE5AAAADlJTQS1QU1MtU0hBMjU2AANmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAg3MIIIMzCCBxugAwIBAgIQAhhYef//V20Q2zS3ExvdcTANBgkqhkiG9w0BAQsFADBgMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR8wHQYDVQQDExZHZW9UcnVzdCBUTFMgUlNBIENBIEcxMB4XDTI1MDkxNjAwMDAwMFoXDTI2MDIwNDIzNTk1OVowQzELMAkGA1UEBhMCR0IxDzANBgNVBAcTBkxvbmRvbjERMA8GA1UEChMIU255ayBMdGQxEDAOBgNVBAMTB3NueWsuaW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCkzp9676BPvYnbl6DFnA3gz+Qu8YT0KjWz9F+A7a5NxXK9wyJOBi6o3vKPzJ7Bn0QwHPmOX5u8hAu7hiHkI6G7VBdkSlxxk6SeevF6X6MmJQZqm/iBExDdKzy0mVklRRt57712g662N0DGmEWPHE6nrF53X20JbvNRWxGHx+dLzxrCEgyWyLk8JeG5dobtNxWrXJGLfFlFzM5xEc2DAhSqDEMK9t7Ux6PsF6mROCTVmcZ4anOng6CCVXRntdryk2MKy0m3tXqq2R+xmydQrKHLUiAq1rVkvsZ4E8QHeMsv5t/UWpjVN9628dC3GnuBL/T4dHNkLZjGCX75jkin94AXAgMBAAGjggUEMIIFADAfBgNVHSMEGDAWgBSUT9Rdi+Sk4qaA/v3Y+QDvo74CVzAdBgNVHQ4EFgQUyGmk5kdgR+t984nNZZSGwobcNLgwggIGBgNVHREEggH9MIIB+YIHc255ay5pb4ILYXBpLnNueWsuaW+CC2FwcC5zbnlrLmlvgg9hcHByaXNrLnNueWsuaW+CDGFzcG0uc255ay5pb4IMYmxvZy5zbnlrLmlvgg5icm9rZXIuc255ay5pb4IPYnJva2VyMi5zbnlrLmlvghFjb2xsZWN0b3Iuc255ay5pb4ITY3AtdGVzdC1hcHAuc255ay5pb4IMZGF0YS5zbnlrLmlvghBkZWVwcm94eS5zbnlrLmlvghNkb2NzLm9ucHJlbS5zbnlrLmlvggxkb2NzLnNueWsuaW+CDGVuc28uc255ay5pb4ILZXZvLnNueWsuaW+CDmhlYWx0aC5zbnlrLmlvggxpbmZvLnNueWsuaW+CDWxlYXJuLnNueWsuaW+CF3BhcnRuZXJ0cmFpbmluZy5zbnlrLmlvggxwb2dvLnNueWsuaW+CEXByb3Zpc2lvbi5zbnlrLmlvghFyZXBvcnRpbmcuc255ay5pb4IRcmVzb3VyY2VzLnNueWsuaW+CEHNlY3VyaXR5LnNueWsuaW+CEHNuaXBwZXRzLnNueWsuaW+CD3N0YWdpbmcuc255ay5pb4IOc3RhdGljLnNueWsuaW+CD3N1cHBvcnQuc255ay5pb4IQdHJhaW5pbmcuc255ay5pb4ILd3d3LnNueWsuaW8wPgYDVR0gBDcwNTAzBgZngQwBAgIwKTAnBggrBgEFBQcCARYbaHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwPwYDVR0fBDgwNjA0oDKgMIYuaHR0cDovL2NkcC5nZW90cnVzdC5jb20vR2VvVHJ1c3RUTFNSU0FDQUcxLmNybDB2BggrBgEFBQcBAQRqMGgwJgYIKwYBBQUHMAGGGmh0dHA6Ly9zdGF0dXMuZ2VvdHJ1c3QuY29tMD4GCCsGAQUFBzAChjJodHRwOi8vY2FjZXJ0cy5nZW90cnVzdC5jb20vR2VvVHJ1c3RUTFNSU0FDQUcxLmNydDAMBgNVHRMBAf8EAjAAMIIBfAYKKwYBBAHWeQIEAgSCAWwEggFoAWYAdgCWl2S/VViXrfdDh2g3CEJ36fA61fak8zZuRqQ/D8qpxgAAAZlSpVBNAAAEAwBHMEUCIQCuzA87D2TLFwRHH1XyhvcbEUtOZTGqlBgMmXYDMl0f6AIgMcVYsz8hcxwOXZ9Y8kxjVlV9TuBg/c1KHu4NTYcQASEAdQBkEcRspBLsp4kcogIuALyrTygH1B41J6vq/tUDyX3N8AAAAZlSpVBJAAAEAwBGMEQCIDvOfQy/zSc0CB6zN7u1yhzeuNteZ8jR/t4VB0hdJohRAiA4q58NDku+lTaI+5hLankRH1M916Dx5CWs1L6m1UbdxAB1AEmcm2neHXzs/DbezYdkprhbrwqHgBnRVVL76esp3fjDAAABmVKlUGgAAAQDAEYwRAIgEkx1EdT+vfc+oMiYSJIROK+rxUhX5IQ5D+RSomYQKDECIBYklmMby6xrUZigwwzRG7MM3WAc4X9nb9Prxo4iUg1vMA0GCSqGSIb3DQEBCwUAA4IBAQAa2/JrWBxgp2GJomotxn7Mh4z1zdGrubSeczY72WYQu+icYG7w9QY668VmvCpj9tmW2Aumkt4mLxQgKG/Fab7tEav2J8b1U04AS2V3ptpCJEFXw41NsAESjIK7+BNNMrET2pXBe+VVbc595BW8peSU0cuGM4qECFbNwOjagty+P7nf3jxcG0fhtOgNncsl3n6dYTpTn9fdqCAYm4VtwT7O2X+szvgj0LiJsDJaAnasMDPS8vpOH7P0j18O53MOpt/s87im55m+gtn6aEpqxRzrcM/TEb/hlqte2GVZIST9EPH4WeBH4s5IldV3mTHYH/Tj6Bo7K+sU6JvvXIJLOFAjZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEkTCCBI0wggN1oAMCAQICEA0HeCoTP8b5pXKW4TH/0XkwDQYJKoZIhvcNAQELBQAwYTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEgMB4GA1UEAxMXRGlnaUNlcnQgR2xvYmFsIFJvb3QgRzIwHhcNMTcxMTAyMTIyMzM3WhcNMjcxMTAyMTIyMzM3WjBgMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR8wHQYDVQQDExZHZW9UcnVzdCBUTFMgUlNBIENBIEcxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvhfo7L4pCsv+uS1hMf0zJAgyLlnoIdTYML5uEMiEoD+6FOXe/XqMkht7zoQt8P94xDLoqaB9Xwbae5tLU6bGGwIXIeFwO637g+sIVIGo3hKy1caIljD5Avw51L24Iu+ASZnQYrhh0Eney8LLl6UxBhvX2F3G01TeUgE2Kg323sW2MUzMFSVqFW+pawRIDN4AQaoogIsvNNMbtTatOyXQiEJAbDaRbWWyGYbA0n85Rlj+MBJgUNzuu3PmV5Ba9g3K1wRLR2pvNBqdkjYaLtlOVO1HrAy/8YCyuv9He+k5xFTElFSZGfFXma/iFCJb6C67Yy26roG9E9zmF1vgkFNJAQIDAQABo4IBQDCCATwwHQYDVR0OBBYEFJRP1F2L5KTipoD+/dj5AO+jvgJXMB8GA1UdIwQYMBaAFE4iVCAYlebjbuYP+vq5Eu0GF485MA4GA1UdDwEB/wQEAwIBhjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwEgYDVR0TAQH/BAgwBgEB/wIBADA0BggrBgEFBQcBAQQoMCYwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBCBgNVHR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRHbG9iYWxSb290RzIuY3JsMD0GA1UdIAQ2MDQwMgYEVR0gADAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMA0GCSqGSIb3DQEBCwUAA4IBAQCCHAQ6gunFqchlElwI4wHGMLCuIohheysHhve4tUSc9ZMGYUaKOqK1NSbQWJ48wXOPv7F5pxyZN5pT8i9cbiALfbDHgu/r63kSBecBQQtDAjebGx8ITTdScym4nzXj+aM6WXUBZpAqPp3gYikeh6iAPizEzAjDLr9pIRhrjx5rQ83uBphBmbWC8hfBEKWuWIz7lepNgq/zd18RaU94Uabf97rFP2W/cHyj7VqaM52eP+OHNafa8xXGWK1pI9wPu0zQSRNBpj9n4V4T9Q/11XyFv4dMgiRhIlfRpZv7hjmtw1x5ZmwHMUsgka2hvmQZAO4eEnjOmPJf+zAUaTws+pfGZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAADkjCCA44wggJ2oAMCAQICEAM68eanEamguyhksR0J+uUwDQYJKoZIhvcNAQELBQAwYTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEgMB4GA1UEAxMXRGlnaUNlcnQgR2xvYmFsIFJvb3QgRzIwHhcNMTMwODAxMTIwMDAwWhcNMzgwMTE1MTIwMDAwWjBhMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBHMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALs3zTTce2vJsmiQrUp1/0a6IQoIjfUZVMn7iNvzrvI6iZE8euarBhprz6wt6F4JJES6Ypp+1qOofuBUdSAFrFC3nGMabDDc2h8Zsdce3v3X4MuUgzeu7B9DTt17LNK9LqUv5Km4rTrUmaS2JembawBgkmD/TyFJGPdnkKthBpyP8rrptOmSMmu181foXRvNjB2rlQSVSfM1LZbjSW3dd+P7SUu0rFUHqY+Vs7Qju0xtRfD2qbKVMLT9TFWMJ0pXFHyCnc1zktMWSgYMjFDRjx4Jvheh5iHK/YPlELyDpQrEZyj2cxQUPUZ2w4cUiSE0Ta8PRQymSaG6u5zFsTODKYUCAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFE4iVCAYlebjbuYP+vq5Eu0GF485MA0GCSqGSIb3DQEBCwUAA4IBAQBgZyiUbw5IY+sx3epnGNWJfTzFi0p/6b7bKxffsF9zdyoyEzmBZ0KEI/JFZzXsiL/4j7BhDDSkriBMhMbb+DXhdtnfpkK7x0QIhn82dCRa2mwNFFk1vfJJ3bYfybMNRyo9mS+7XLu11CDhmV9TRhXbaJvw8zDVPjHijYSe44ra2pY+NROlX/D5cFBwR0ERVxlOwI+uBsSVExcvGyWfdfKxjpmhbxOxQXH+iCrITxAgVdfzFEXl4ET06oeVMpMO/lNG+iyd/4siuUvZCUWk3qS4mljdG31Sn45ZQ4iBpJ4m1W+t3Q3GN33tA5Ib5Xdfdu48jcRdVlui2WZuszU35TK2AAAAAQAAAAJoMgEBAAAAAEV0bHNmbGFnczB4MDAwMDAwMDA6YXBwLnNueWsuaW86NDQzXnBhcnRpdGlvbktleT0lMjhodHRwcyUyQ3NueWsuaW8lMjkAAA== request-method GET response-head HTTP/2 200 
content-type: application/javascript
x-guploader-uploadid: ABgVH88KoEiGYhSRdwE_bE7n5k4v-R_4_mpjtNwTf2-pmLZYvNP155vyBEdf36ezBYjpfu10VW7WS9E
last-modified: Wed, 27 Aug 2025 06:16:14 GMT
etag: "da2681d214bc6eb8538f2d28a3c1b2ec"
x-goog-generation: 1756275374462099
x-goog-metageneration: 1
x-goog-stored-content-encoding: identity
x-goog-stored-content-length: 179750
x-goog-hash: crc32c=kG9ZcQ==, md5=2iaB0hS8brhTjy0oo8Gy7A==
x-goog-storage-class: STANDARD
accept-ranges: bytes
content-length: 179750
server: UploadServer
snyk-request-id: e7990de3-2aeb-452e-9831-a15a652c8544
cache-control: max-age=26150311
expires: Thu, 27 Aug 2026 06:18:16 GMT
date: Tue, 28 Oct 2025 14:19:45 GMT
akamai-cache-status: Hit from child
akamai-grn: 0.d1b31402.1761661185.920df3bd
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
strict-transport-security: max-age=31536000; preload
X-Firefox-Spdy: h2
 original-response-headers content-type: application/javascript
x-guploader-uploadid: ABgVH88KoEiGYhSRdwE_bE7n5k4v-R_4_mpjtNwTf2-pmLZYvNP155vyBEdf36ezBYjpfu10VW7WS9E
last-modified: Wed, 27 Aug 2025 06:16:14 GMT
etag: "da2681d214bc6eb8538f2d28a3c1b2ec"
x-goog-generation: 1756275374462099
x-goog-metageneration: 1
x-goog-stored-content-encoding: identity
x-goog-stored-content-length: 179750
x-goog-hash: crc32c=kG9ZcQ==
x-goog-hash: md5=2iaB0hS8brhTjy0oo8Gy7A==
x-goog-storage-class: STANDARD
accept-ranges: bytes
content-length: 179750
server: UploadServer
snyk-request-id: e7990de3-2aeb-452e-9831-a15a652c8544
cache-control: max-age=26150311
expires: Thu, 27 Aug 2026 06:18:16 GMT
date: Tue, 28 Oct 2025 14:19:45 GMT
akamai-cache-status: Hit from child
akamai-grn: 0.d1b31402.1761661185.920df3bd
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
strict-transport-security: max-age=31536000; preload
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0 net-response-time-onstart 194 net-response-time-onstop 260  &